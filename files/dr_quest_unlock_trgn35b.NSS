#include "acr_db_persist_i"
#include "acr_quest_i"

/* 
 *  Script generated by LS Script Generator, v.TK.0
 *
 *  For download info, please visit:
 *  http://nwvault.ign.com/View.php?view=Other.Detail&id=1502
 */
// Put this script OnEnter.


void main()
{
    object oTarget;

    // Get the creature who triggered this event.
    object oPC = GetEnteringObject();

    // Only fire for (real) PCs.
    if ( !GetIsPC(oPC)  ||  GetIsDMPossessed(oPC) )
        return;

    // If the PC is at least at stage 23 of journal quest "gc_orphans_missing".
    if ( GetLocalInt(oPC, "NW_JOURNAL_ENTRYgc_orphans_missing") >= 23 )
    {
        // Unlock "dr_n35_shore_cottage_enter".
        oTarget = GetObjectByTag("dr_n35_shore_cottage_enter");
        SetLocked(oTarget, FALSE);
    }
    // Else, if the PC is exactly at stage 5 of journal quest "gc_rowlina_orphans".
    else if ( GetLocalInt(oPC, "NW_JOURNAL_ENTRYgc_rowlina_orphans") == 5 )
    {
        // Lock "dr_n35_shore_cottage_enter".
        oTarget = GetObjectByTag("dr_n35_shore_cottage_enter");
        SetLocked(oTarget, TRUE);
}
}