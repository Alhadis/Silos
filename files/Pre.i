#line 1 ".\\Pre.cpp"







#line 1 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\pre.h"











extern "C"{
#line 14 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\pre.h"


#line 1 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\system.h"









#pragma comment(lib,"sxmFixFont.lib")
#pragma comment(lib,"sxmHttp.lib")
#pragma comment(lib,"sxmInput.lib")
#pragma comment(lib,"sxmjlib.lib")
#line 15 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\system.h"


extern "C"{
#line 19 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\system.h"

#line 1 "D:\\BREW\\inc\\jport.h"



#line 1 "d:\\brew\\inc\\AEE.h"














#line 1 "d:\\brew\\inc\\AEEClassIDs.h"









































































































































































































































































#line 267 "d:\\brew\\inc\\AEEClassIDs.h"

#line 16 "d:\\brew\\inc\\AEE.h"
#line 1 "d:\\brew\\inc\\AEEError.h"




































































































































































































































































































































                                                          

















#line 344 "d:\\brew\\inc\\AEEError.h"
#line 17 "d:\\brew\\inc\\AEE.h"










#line 1 "d:\\brew\\inc\\AEEComdef.h"






















#line 24 "d:\\brew\\inc\\AEEComdef.h"

#line 26 "d:\\brew\\inc\\AEEComdef.h"
#line 27 "d:\\brew\\inc\\AEEComdef.h"








#line 36 "d:\\brew\\inc\\AEEComdef.h"

#line 38 "d:\\brew\\inc\\AEEComdef.h"




#line 43 "d:\\brew\\inc\\AEEComdef.h"

#line 45 "d:\\brew\\inc\\AEEComdef.h"
#line 46 "d:\\brew\\inc\\AEEComdef.h"




#line 51 "d:\\brew\\inc\\AEEComdef.h"



#line 55 "d:\\brew\\inc\\AEEComdef.h"




#line 60 "d:\\brew\\inc\\AEEComdef.h"



#line 64 "d:\\brew\\inc\\AEEComdef.h"




















































































#line 149 "d:\\brew\\inc\\AEEComdef.h"


#line 152 "d:\\brew\\inc\\AEEComdef.h"



#line 156 "d:\\brew\\inc\\AEEComdef.h"


#line 159 "d:\\brew\\inc\\AEEComdef.h"






  
#line 167 "d:\\brew\\inc\\AEEComdef.h"









typedef  unsigned char      boolean;     

#line 179 "d:\\brew\\inc\\AEEComdef.h"


typedef  unsigned long int  uint32;      

#line 184 "d:\\brew\\inc\\AEEComdef.h"


typedef  unsigned short     uint16;      

#line 189 "d:\\brew\\inc\\AEEComdef.h"


typedef  unsigned char      uint8;       

#line 194 "d:\\brew\\inc\\AEEComdef.h"


typedef  signed long int    int32;       

#line 199 "d:\\brew\\inc\\AEEComdef.h"


typedef  signed short       int16;       

#line 204 "d:\\brew\\inc\\AEEComdef.h"


typedef  signed char        int8;        

#line 209 "d:\\brew\\inc\\AEEComdef.h"





typedef  unsigned char     byte;         

#line 217 "d:\\brew\\inc\\AEEComdef.h"


typedef  unsigned short    word;         

#line 222 "d:\\brew\\inc\\AEEComdef.h"


typedef  unsigned long     dword;        

#line 227 "d:\\brew\\inc\\AEEComdef.h"


typedef  unsigned char     uint1;        

#line 232 "d:\\brew\\inc\\AEEComdef.h"


typedef  unsigned short    uint2;        

#line 237 "d:\\brew\\inc\\AEEComdef.h"


typedef  unsigned long     uint4;        

#line 242 "d:\\brew\\inc\\AEEComdef.h"


typedef  signed char       int1;         

#line 247 "d:\\brew\\inc\\AEEComdef.h"


typedef  signed short      int2;         

#line 252 "d:\\brew\\inc\\AEEComdef.h"


typedef  long int          int4;         

#line 257 "d:\\brew\\inc\\AEEComdef.h"


typedef  signed long       sint31;       

#line 262 "d:\\brew\\inc\\AEEComdef.h"


typedef  signed short      sint15;       

#line 267 "d:\\brew\\inc\\AEEComdef.h"


typedef  signed char       sint7;        

#line 272 "d:\\brew\\inc\\AEEComdef.h"




 



#line 281 "d:\\brew\\inc\\AEEComdef.h"
  
#line 283 "d:\\brew\\inc\\AEEComdef.h"






   
#line 291 "d:\\brew\\inc\\AEEComdef.h"


   
#line 295 "d:\\brew\\inc\\AEEComdef.h"


   
#line 299 "d:\\brew\\inc\\AEEComdef.h"


   
#line 303 "d:\\brew\\inc\\AEEComdef.h"

#line 305 "d:\\brew\\inc\\AEEComdef.h"
#line 306 "d:\\brew\\inc\\AEEComdef.h"
#line 28 "d:\\brew\\inc\\AEE.h"






typedef struct
{
   uint16   wYear;
   uint16   wMonth;
   uint16   wDay;
   uint16   wHour;
   uint16   wMinute;
   uint16   wSecond;
   uint16   wWeekDay;
} JulianType;

typedef struct 
{
   int16    x,y;
   int16   dx, dy;
} AEERect;

enum {
   SC_UNKNOWN,
   SC_ALPHA,
   SC_DIGIT,
   SC_WHITESPACE
};



typedef int8 TChType;
#line 62 "d:\\brew\\inc\\AEE.h"

typedef struct _AEEImageInfo
{
   uint16   cx;
   uint16   cy;
   uint16   nColors;
   boolean  bAnimated;
   uint16   cxFrame;
} AEEImageInfo;


typedef uint32             AEECLSID;
typedef uint32             AEEMODID;
typedef uint16             AECHAR;

typedef void (*PFNNOTIFY)(void * pUser);

















typedef  char * PSTR;
#line 97 "d:\\brew\\inc\\AEE.h"


typedef  const char * PCSTR;
#line 101 "d:\\brew\\inc\\AEE.h"



#line 105 "d:\\brew\\inc\\AEE.h"



#line 109 "d:\\brew\\inc\\AEE.h"




#line 114 "d:\\brew\\inc\\AEE.h"



#line 118 "d:\\brew\\inc\\AEE.h"































































#line 182 "d:\\brew\\inc\\AEE.h"





















































typedef  unsigned int         flg;





typedef struct _IBase           IBase;
typedef struct _IQueryInterface IQueryInterface;
typedef struct _IModule         IModule;
typedef struct _IApplet         IApplet;
typedef struct _IControl        IControl;
typedef struct _IAStream        IAStream;
typedef struct _IMemAStream     IMemAStream;
typedef struct _INotifier       INotifier;
typedef struct _IShell          IShell;
typedef struct _IHeap           IHeap;
typedef struct _IFileMgr        IFileMgr;
typedef struct _IImage          IImage;
typedef struct _IImage          IViewer;
















typedef struct _AEECallback AEECallback;

typedef void (*PFNCBCANCEL)(AEECallback * pcb);

struct _AEECallback
{
   AEECallback *pNext;            
   void        *pmc;              
   PFNCBCANCEL  pfnCancel;        
   void        *pCancelData;      
   PFNNOTIFY    pfnNotify;        
   void        *pNotifyData;      
   void        *pReserved;        
};















struct _IBase { struct IBaseVtbl *pvt;};typedef struct IBaseVtbl IBaseVtbl;struct IBaseVtbl
{
   uint32 (*AddRef) (IBase*); uint32 (*Release) (IBase*);
};




enum {
   AEE_SUSPEND_NORMAL,     
   AEE_SUSPEND_EXTERNAL    
};



typedef int8 AEESuspendReason;
#line 316 "d:\\brew\\inc\\AEE.h"

typedef struct _AEESuspendInfo
{
   int      nErr;                      
   boolean  bCloseDialogs;             
} AEESuspendInfo;
   

























































   



   














typedef boolean (*AEEHANDLER)(void * pData, uint16 evt, uint16 wParam, uint32 lParam);






  











struct _IApplet { struct IAppletVtbl *pvt;};typedef struct IAppletVtbl IAppletVtbl;struct IAppletVtbl
{
   uint32 (*AddRef) (IApplet*); uint32 (*Release) (IApplet*); boolean (*HandleEvent)(IApplet * po, uint16 evt, uint16 wp, uint32 dwp);
};














   
struct _IModule { struct IModuleVtbl *pvt;};typedef struct IModuleVtbl IModuleVtbl;struct IModuleVtbl
{
   uint32 (*AddRef) (IModule*); uint32 (*Release) (IModule*); int (*CreateInstance)(IModule * po,IShell * pIShell,AEECLSID ClsId,void ** ppObj); void (*FreeResources)(IModule * po, IHeap * ph, IFileMgr * pfm);
};




























typedef struct _CtlAddItem
{
   
   
   
   

   const AECHAR * pText;         
   IImage *       pImage;        
   const char *   pszResImage;   
   const char *   pszResText;    
   uint16         wText;         
   uint16         wFont;         
   uint16         wImage;        
   uint16         wItemID;
   uint32         dwData;
} CtlAddItem;
  
typedef struct _CtlValChange
{
   IControl *  pc;
   uint32      dwParam;
   boolean     bValid;
} CtlValChange;



























struct _IControl { struct IControlVtbl *pvt;};typedef struct IControlVtbl IControlVtbl;struct IControlVtbl
{
   uint32 (*AddRef) (IControl*); uint32 (*Release) (IControl*); boolean (*HandleEvent) (IControl *, uint16 evt, uint16 wParam, uint32 dwParam); boolean (*Redraw) (IControl *); void (*SetActive) (IControl *, boolean); boolean (*IsActive) (IControl *); void (*SetRect) (IControl *, const AEERect *); void (*GetRect) (IControl *, AEERect *); void (*SetProperties) (IControl *, uint32); uint32 (*GetProperties) (IControl *); void (*Reset) (IControl *);
};
































enum {
   NSTAT_IGNORED,
   NSTAT_PROCESSED,
   NSTAT_STOP
};



typedef int8 AEENotifyStatus;
#line 566 "d:\\brew\\inc\\AEE.h"

typedef struct
{
   AEECLSID          cls;           
   INotifier *       pNotifier;     
   uint32            dwMask;        
   void *            pData;         
   AEENotifyStatus   st;
} AEENotify;


















struct _INotifier { struct INotifierVtbl *pvt;};typedef struct INotifierVtbl INotifierVtbl;struct INotifierVtbl
{
   uint32 (*AddRef) (INotifier*); uint32 (*Release) (INotifier*); void (*SetMask)(INotifier *, const uint32 * dwMasks);
};





















struct _IQueryInterface { struct IQueryInterfaceVtbl *pvt;};typedef struct IQueryInterfaceVtbl IQueryInterfaceVtbl;struct IQueryInterfaceVtbl
{
   uint32 (*AddRef) (IQueryInterface*); uint32 (*Release) (IQueryInterface*); int (*QueryInterface)(IQueryInterface *, AEECLSID, void **); 
};



























struct _IAStream { struct IAStreamVtbl *pvt;};typedef struct IAStreamVtbl IAStreamVtbl;struct IAStreamVtbl
{
   uint32 (*AddRef) (IAStream*); uint32 (*Release) (IAStream*); void (*Readable) (IAStream * po, PFNNOTIFY pfn, void * pUser); int32 (*Read) (IAStream * po, void * pDest, uint32 nWant); void (*Cancel) (IAStream * po, PFNNOTIFY pfn, void * pUser);
};



















struct _IMemAStream { struct IMemAStreamVtbl *pvt;};typedef struct IMemAStreamVtbl IMemAStreamVtbl;struct IMemAStreamVtbl
{
   uint32 (*AddRef) (IMemAStream*); uint32 (*Release) (IMemAStream*); void (*Readable) (IMemAStream * po, PFNNOTIFY pfn, void * pUser); int32 (*Read) (IMemAStream * po, void * pDest, uint32 nWant); void (*Cancel) (IMemAStream * po, PFNNOTIFY pfn, void * pUser); void (*Set) (IMemAStream * po, byte * pBuff, uint32 dwSize, uint32 dwOffset, boolean bSysMem); void (*SetEx)(IMemAStream * po, byte * pBuff, uint32 dwSize, uint32 nOffset, PFNNOTIFY pUserFreeFn, void *pUserFeeData);
};









#line 686 "d:\\brew\\inc\\AEE.h"









































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 5 "D:\\BREW\\inc\\jport.h"
#line 1 "d:\\brew\\inc\\JGraphics.h"



#line 1 "d:\\brew\\inc\\JDefine.h"



#line 1 "d:\\brew\\inc\\aeestdlib.h"















#line 1 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\stddef.h"















#pragma once
#line 18 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\stddef.h"




#line 1 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"














 





#line 22 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 23 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"














#line 38 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"



#line 42 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"











    

#line 56 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 58 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 1 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\sal.h"

























































































































































































































#pragma once






#line 226 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\sal.h"
extern "C" {




#line 232 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\sal.h"



























































































































































































































#line 452 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\sal.h"
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
#line 486 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\sal.h"



































































































































































































































    
    
#line 716 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\sal.h"






#line 723 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\sal.h"
#line 724 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\sal.h"


}
#line 728 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\sal.h"



#line 60 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"























































































#pragma pack(push,8)
#line 149 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 1 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"













#pragma once
#line 16 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"






#line 23 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"









#pragma pack(push,8)
#line 34 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"


extern "C" {
#line 38 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"







#line 46 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"
#line 47 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"





typedef __w64 unsigned int   uintptr_t;
#line 54 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"

#line 56 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"





typedef char *  va_list;
#line 63 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"

#line 65 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"





#line 71 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"











#line 83 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"


#line 86 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"













#line 100 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"












































#line 145 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"


}
#line 149 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"


#pragma pack(pop)
#line 153 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"

#line 155 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\vadefs.h"
#line 151 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"


extern "C" {
#line 155 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"





#line 161 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"




#line 166 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"








#line 175 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"






#line 182 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 184 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 185 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"






#line 192 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 194 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 195 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"













#line 209 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 210 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"





#line 216 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"







#line 224 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 226 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 228 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"







#line 236 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 237 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"




#line 242 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 244 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 245 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"




#line 250 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 252 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 253 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"


 

#line 258 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
  
 #line 260 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 261 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"










#line 272 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 273 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"






#line 280 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 281 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

















#line 299 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"




#line 304 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"





#line 310 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"







#line 318 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 319 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"







#line 327 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 328 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"





#line 334 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"


#line 337 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 339 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 340 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 341 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"











#line 353 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 355 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 356 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 357 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"












#line 370 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 371 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"







#line 379 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 381 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 382 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"



 
  
 



#line 392 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 393 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"


 
  
  
 



#line 403 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 404 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"


 
  
   
  

#line 412 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
 



#line 417 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 418 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"





#line 424 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 426 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 427 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"





typedef __w64 unsigned int   size_t;
#line 434 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 436 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"



typedef size_t rsize_t;

#line 442 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 443 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"





typedef __w64 int            intptr_t;
#line 450 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 452 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"














typedef __w64 int            ptrdiff_t;
#line 468 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 470 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"







typedef unsigned short wint_t;
typedef unsigned short wctype_t;

#line 481 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"


















#line 500 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 501 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"





__declspec(deprecated("This name was supported during some Whidbey pre-releases. Instead, use the standard name errno_t.")) typedef int errcode;


#line 510 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

typedef int errno_t;
#line 513 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"


typedef __w64 long __time32_t;   

#line 518 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"



typedef __int64 __time64_t;     
#line 523 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 525 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"





typedef __time64_t time_t;      
#line 532 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 534 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"







#line 542 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 543 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"




#line 548 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 550 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 551 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"




#line 556 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 558 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 559 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"






#line 566 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 567 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"




#line 572 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"



#line 576 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"











#line 588 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"




#line 593 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"




#line 598 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 600 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 601 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"







#line 609 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"


































































































































































#line 772 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 773 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"







































































































































































































































































































































































































































































































































































































































































































































































































































































#line 1613 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"






















































































#line 1700 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"
#line 1701 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

struct threadlocaleinfostruct;
struct threadmbcinfostruct;
typedef struct threadlocaleinfostruct * pthreadlocinfo;
typedef struct threadmbcinfostruct * pthreadmbcinfo;
struct __lc_time_data;

typedef struct localeinfo_struct
{
    pthreadlocinfo locinfo;
    pthreadmbcinfo mbcinfo;
} _locale_tstruct, *_locale_t;


typedef struct tagLC_ID {
        unsigned short wLanguage;
        unsigned short wCountry;
        unsigned short wCodePage;
} LC_ID, *LPLC_ID;

#line 1722 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"


typedef struct threadlocaleinfostruct {
        int refcount;
        unsigned int lc_codepage;
        unsigned int lc_collate_cp;
        unsigned long lc_handle[6]; 
        LC_ID lc_id[6];
        struct {
            char *locale;
            wchar_t *wlocale;
            int *refcount;
            int *wrefcount;
        } lc_category[6];
        int lc_clike;
        int mb_cur_max;
        int * lconv_intl_refcount;
        int * lconv_num_refcount;
        int * lconv_mon_refcount;
        struct lconv * lconv;
        int * ctype1_refcount;
        unsigned short * ctype1;
        const unsigned short * pctype;
        const unsigned char * pclmap;
        const unsigned char * pcumap;
        struct __lc_time_data * lc_time_curr;
} threadlocinfo;

#line 1751 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"


}
#line 1755 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"



#line 1759 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 1761 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"



#line 1765 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 1767 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"



#line 1771 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 1773 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"






#line 1780 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"



#line 1784 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"


#pragma pack(pop)
#line 1788 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 1790 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\crtdefs.h"

#line 23 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\stddef.h"


extern "C" {
#line 27 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\stddef.h"














 extern int * __cdecl _errno(void);


errno_t __cdecl _set_errno(     int _Value);
errno_t __cdecl _get_errno(     int * _Value);
#line 47 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\stddef.h"








#line 56 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\stddef.h"









#line 66 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\stddef.h"


 extern unsigned long  __cdecl __threadid(void);

 extern uintptr_t __cdecl __threadhandle(void);
#line 72 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\stddef.h"



}
#line 77 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\stddef.h"

#line 79 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\stddef.h"
#line 17 "d:\\brew\\inc\\aeestdlib.h"
#line 1 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\stdarg.h"















#pragma once
#line 18 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\stdarg.h"






#line 25 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\stdarg.h"








#line 34 "C:\\Program Files\\Microsoft Visual Studio 8\\VC\\include\\stdarg.h"
#line 18 "d:\\brew\\inc\\aeestdlib.h"

#line 1 "d:\\brew\\inc\\AEEComdef.h"
















































































































































































































































































































#line 306 "d:\\brew\\inc\\AEEComdef.h"
#line 20 "d:\\brew\\inc\\aeestdlib.h"
#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 21 "d:\\brew\\inc\\aeestdlib.h"
#line 1 "d:\\brew\\inc\\AEEShell.h"















#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 17 "d:\\brew\\inc\\AEEShell.h"
#line 1 "d:\\brew\\inc\\AEEVCodes.h"
























































enum _AVKType {
   AVK_UNDEFINED = 0xE010,
   AVK_FIRST = 0xE020,

   AVK_0,
   AVK_1,
   AVK_2,
   AVK_3,
   AVK_4,
   AVK_5,
   AVK_6,
   AVK_7,
   AVK_8,
   AVK_9,
   AVK_STAR,
   AVK_POUND,

   AVK_POWER,
   AVK_END,
   AVK_SEND,
   AVK_CLR,

   AVK_UP,
   AVK_DOWN,
   AVK_LEFT,
   AVK_RIGHT,
   AVK_SELECT,

   AVK_SOFT1,
   AVK_SOFT2,
   AVK_SOFT3,
   AVK_SOFT4,

   AVK_FUNCTION1,
   AVK_FUNCTION2,
   AVK_FUNCTION3,

   AVK_FUNCTION,
   AVK_MENU,
   AVK_INFO,

   AVK_SHIFT,

   AVK_MESSAGE,
   AVK_MUTE,

   AVK_STORE,
   AVK_RECALL,

   AVK_PUNC1,
   AVK_PUNC2,

   AVK_VOLUME_UP,
   AVK_VOLUME_DOWN,

   AVK_WEB_ACCESS,
   AVK_VOICE_MEMO,
   AVK_SPEAKER,
   AVK_TAP,    

   AVK_PTT,
   AVK_LSHIFT,
   AVK_RSHIFT,
   AVK_LCTRL,
   AVK_RCTRL,
   AVK_LALT,
   AVK_RALT,
   AVK_CAPLK,
   AVK_SCRLK,
   AVK_NUMLK,
   AVK_LNGHANGUL,
   AVK_LNGJUNJA,
   AVK_LNGFIN,
   AVK_LNGHANJA,
   AVK_PRSCRN,
   AVK_BREAK,
   AVK_TXINSERT,
   AVK_TXDELETE,
   AVK_TXHOME,
   AVK_TXEND,
   AVK_TXPGUP,
   AVK_TXPGDOWN,

   AVK_LAST
};



typedef uint16 AVKType;
#line 147 "d:\\brew\\inc\\AEEVCodes.h"


enum _AVSType {
   AVS_UNDEFINED = 0xE010,

   AVS_FIRST = 0,

   AVS_SCREEN_0,
   AVS_SCREEN_1,
   AVS_SCREEN_2,
   AVS_SCREEN_3,

   AVS_LAST
};



typedef uint16 AVSType;
#line 166 "d:\\brew\\inc\\AEEVCodes.h"



enum _AVLType {
   AVL_UNDEFINED = 0xE010,

   AVL_FIRST = 0,

   AVL_LED_0,
   AVL_LED_1,
   AVL_LED_2,
   AVL_LED_3,
   AVL_LED_4,
   AVL_LED_5,
   AVL_LED_6,
   AVL_LED_7,

   AVL_LAST
};



typedef uint16 AVLType;
#line 190 "d:\\brew\\inc\\AEEVCodes.h"

#line 192 "d:\\brew\\inc\\AEEVCodes.h"
#line 18 "d:\\brew\\inc\\AEEShell.h"
#line 1 "d:\\brew\\inc\\AEEDisp.h"






































#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 40 "d:\\brew\\inc\\AEEDisp.h"
#line 1 "d:\\brew\\inc\\AEEBitmap.h"
























#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 26 "d:\\brew\\inc\\AEEBitmap.h"
















typedef uint32 RGBVAL;








typedef struct _point 
{
   int16       x, y;
}AEEPoint;



enum {
   AEE_RO_OR,
   AEE_RO_XOR,
   AEE_RO_COPY,
   AEE_RO_NOT,
   AEE_RO_OLDMASK,    
   AEE_RO_MERGENOT,
   AEE_RO_ANDNOT,
   AEE_RO_TRANSPARENT,
   AEE_RO_AND,
   AEE_RO_BLEND,
   AEE_RO_TOTAL
};



typedef int8 AEERasterOp;
#line 76 "d:\\brew\\inc\\AEEBitmap.h"























typedef uint32 NativeColor;








typedef struct {
   uint32  cx;
   uint32  cy;
   uint32  nDepth;
} AEEBitmapInfo;


typedef struct IBitmap    IBitmap;




















typedef struct IBitmapVtbl IBitmapVtbl; struct IBitmapVtbl
{
   uint32 (*AddRef) (IBitmap*); uint32 (*Release) (IBitmap*); int (*QueryInterface)(IBitmap *, AEECLSID, void **); NativeColor (*RGBToNative) (IBitmap *po, RGBVAL rgb); RGBVAL (*NativeToRGB) (IBitmap *po, NativeColor clr); int (*DrawPixel) (IBitmap *po, unsigned x, unsigned y, NativeColor color, AEERasterOp rop); int (*GetPixel) (IBitmap *po, unsigned x, unsigned y, NativeColor *pColor); int (*SetPixels) (IBitmap *po, unsigned cnt, AEEPoint *pPoint, NativeColor color, AEERasterOp rop); int (*DrawHScanline) (IBitmap *po, unsigned y, unsigned xMin, unsigned xMax, NativeColor color, AEERasterOp rop); int (*FillRect) (IBitmap *po, const AEERect *prc, NativeColor color, AEERasterOp rop); int (*BltIn) (IBitmap *po, int xDst, int yDst, int dx, int dy, IBitmap *pSrc, int xSrc, int ySrc, AEERasterOp rop); int (*BltOut) (IBitmap *po, int xDst, int yDst, int dx, int dy, IBitmap *pDst, int xSrc, int ySrc, AEERasterOp rop); int (*GetInfo) (IBitmap *po, AEEBitmapInfo *pinfo, int nSize); int (*CreateCompatibleBitmap) (IBitmap *po, IBitmap **ppIBitmap, uint16 w, uint16 h); int (*SetTransparencyColor) (IBitmap *po, NativeColor color); int (*GetTransparencyColor) (IBitmap *po, NativeColor *pColor);
};





























typedef struct IBitmapDev IBitmapDev;








typedef struct IBitmapDevVtbl IBitmapDevVtbl; struct IBitmapDevVtbl
{
   uint32 (*AddRef) (IBitmapDev*); uint32 (*Release) (IBitmapDev*); int (*QueryInterface)(IBitmapDev *, AEECLSID, void **); int (*Update) (IBitmapDev *po); boolean (*IsEnabled) (IBitmapDev *po); int (*NotifyEnable) (IBitmapDev *po, AEECallback *pcb);
};
































typedef struct IDIB        IDIB;

struct IDIB {
   IBitmapVtbl *pvt;
   IQueryInterface * pPaletteMap;    
   byte *            pBmp;           
   uint32 *          pRGB;           
   NativeColor       ncTransparent;  
   uint16            cx;             
   uint16            cy;             
   int16             nPitch;         
   uint16            cntRGB;         
   uint8             nDepth;         
   uint8             nColorScheme;   
   uint8             reserved[6];    
};



typedef struct _aee_dib {
   IQueryInterface * pPaletteMap;
   byte    *         pBmp;
   uint32  *         pRGB;
   NativeColor       transparentColor;
   uint16            cx;
   uint16            cy;
   int16             nPitch;
   uint16            cntRGB;
   uint8             colorDepth;
   uint8             reserved[7];
} AEEDIB;




static __inline IBitmap *IDIB_TO_IBITMAP(const IDIB *pIDIB)
{
   return (IBitmap*)(void*)pIDIB;
}
































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 1374 "d:\\brew\\inc\\AEEBitmap.h"


#line 41 "d:\\brew\\inc\\AEEDisp.h"
#line 1 "d:\\brew\\inc\\AEEFont.h"























#line 1 "d:\\brew\\inc\\AEEBitmap.h"































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 25 "d:\\brew\\inc\\AEEFont.h"





















typedef struct {
   int16  nAscent;
   int16  nDescent;
} AEEFontInfo;


typedef struct IFont IFont;

typedef struct IFontVtbl IFontVtbl; struct IFontVtbl
{
   uint32 (*AddRef) (IFont*); uint32 (*Release) (IFont*); int (*QueryInterface)(IFont *, AEECLSID, void **);

   int   (*DrawText)               (IFont *pMe, IBitmap *pDst, int x, int y,
                                    const AECHAR *pcText, int nChars,
                                    NativeColor fg, NativeColor bg,
                                    const AEERect *prcClip, uint32 dwFlags);
   int   (*MeasureText)            (IFont *pMe, const AECHAR *pcText, int nChars,
                                    int nMaxWidth, int *pnFits, int *pnPixels);
   int   (*GetInfo)                (IFont *pMe, AEEFontInfo *pinfo, int nSize);
};



























































































































































































































































































































#line 382 "d:\\brew\\inc\\AEEFont.h"
#line 42 "d:\\brew\\inc\\AEEDisp.h"

















































typedef struct _text {
   AECHAR       *pszText;
   word        *pwLength;
} AEEText;


enum {
   AEE_FONT_NORMAL=0x8000,
   AEE_FONT_BOLD,
   AEE_FONT_LARGE,
   AEE_FONT_TOTAL
};



typedef uint16 AEEFont;
#line 108 "d:\\brew\\inc\\AEEDisp.h"




















































enum {
   CLR_USER_TEXT=1,         
   CLR_USER_BACKGROUND,     
   CLR_USER_LINE,           
   CLR_SYS_TITLE,           
   CLR_SYS_TITLE_TEXT,      
   CLR_SYS_ITEM,            
   CLR_SYS_ITEM_TEXT,       
   CLR_SYS_ITEM_SEL,        
   CLR_SYS_ITEM_SEL_TEXT,   
   CLR_SYS_WIN,             
   CLR_SYS_FRAME_HI,        
   CLR_SYS_FRAME_LO,        
   CLR_SYS_LT_SHADOW,       
   CLR_SYS_DK_SHADOW,       
   CLR_SYS_SCROLLBAR,       
   CLR_SYS_SCROLLBAR_FILL,  
   CLR_SYS_LAST
};



typedef int8 AEEClrItem;
#line 184 "d:\\brew\\inc\\AEEDisp.h"






typedef struct _IDisplay      IDisplay;
typedef struct _IPagerDisplay IPagerDisplay;















#line 208 "d:\\brew\\inc\\AEEDisp.h"





enum {
   AEE_FT_NONE,            
   AEE_FT_EMPTY,           
   AEE_FT_3D_EMPTY,        
   AEE_FT_RAISED,          
   AEE_FT_LOWERED,         
   AEE_FT_BOX,             
   AEE_FT_INDENT,          
   AEE_FT_TAB_BOTTOM_SEL,  
   AEE_FT_TAB_BOTTOM,      
   AEE_FT_TAB_TOP_SEL,     
   AEE_FT_TAB_TOP          
};



typedef int8 AEEFrameType;
#line 231 "d:\\brew\\inc\\AEEDisp.h"































#line 263 "d:\\brew\\inc\\AEEDisp.h"


typedef void* AEEBmp;







typedef struct IDisplayVtbl IDisplayVtbl; struct IDisplayVtbl
{
   uint32 (*AddRef) (IDisplay*); uint32 (*Release) (IDisplay*);

   int      (*GetFontMetrics)(IDisplay * po,AEEFont nFont,int * pnAscent,int * pnDescent);
   int      (*MeasureTextEx)(IDisplay * po, AEEFont nFont, const AECHAR * pcText,int nChars,int nMaxWidth, int * pnFits);
   int      (*DrawText)(IDisplay * po,AEEFont nFont, const AECHAR * pcText,int nChars,int x,int y,const AEERect * prcBackground,uint32 dwFlags);
   void     (*DrawRect)(IDisplay * po,const AEERect * pRect,RGBVAL clrFrame, RGBVAL clrFill, uint32 dwFlags);
   void     (*BitBlt)(IDisplay * po,int xDest,int yDest,int cxDest,int cyDest,const void * pbmSource,int xSrc,int ySrc,AEERasterOp dwRopCode);
   void     (*Update)(IDisplay * po, boolean bDefer);
   void     (*SetAnnunciators)(IDisplay * pd, uint16 wVal, uint16 wMask);
   void     (*Backlight)(IDisplay * po,boolean bOn);
   RGBVAL   (*SetColor)(IDisplay * po, AEEClrItem clr, RGBVAL rgb);
   AECHAR   (*GetSymbol)(IDisplay * po,uint16 sym, AEEFont nFont);

   
   
   int      (*DrawFrame)(IDisplay * po, AEERect * prc,AEEFrameType ft, RGBVAL rgbFill);

   int      (*CreateDIBitmap)(IDisplay *po, IDIB **ppIDIB, uint8 colorDepth, uint16 w, uint16 h);
   int      (*SetDestination)(IDisplay *po, IBitmap *pDst);
   IBitmap* (*GetDestination)(IDisplay *po);
   int      (*GetDeviceBitmap)(IDisplay *po, IBitmap **ppIBitmap);
   IFont   *(*SetFont)(IDisplay *piDisplay, AEEFont nFont, IFont *piFont);
   void     (*SetClipRect)(IDisplay *piDisplay, const AEERect * pRect);
   void     (*GetClipRect)(IDisplay *piDisplay, AEERect * pRect);
   int      (*Clone)(IDisplay *po, IDisplay **ppIDisplayNew);
   void     (*MakeDefault)(IDisplay *po);
   boolean  (*IsEnabled)(IDisplay *po);
   int      (*NotifyEnable)(IDisplay *po, AEECallback *pcb);
};










































#line 347 "d:\\brew\\inc\\AEEDisp.h"



























#line 375 "d:\\brew\\inc\\AEEDisp.h"

































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 19 "d:\\brew\\inc\\AEEShell.h"
#line 1 "d:\\brew\\inc\\AEEImage.h"














#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 16 "d:\\brew\\inc\\AEEImage.h"
 










typedef void (*PFNIMAGEINFO)(void * pUser, IImage * po, AEEImageInfo * pi,int nErr);

struct _IImage { struct IImageVtbl *pvt;};typedef struct IImageVtbl IImageVtbl;struct IImageVtbl
{
   uint32 (*AddRef) (IImage*); uint32 (*Release) (IImage*);

   void        (*Draw)(IImage * po, int x, int y);
   void        (*DrawFrame)(IImage * po, int nFrame, int x, int y);
   void        (*GetInfo)(IImage * po, AEEImageInfo * pi);
   void        (*SetParm)(IImage * po, int nParm, int p1, int p2);
   void        (*Start)(IImage * po, int x, int y);
   void        (*Stop)(IImage * po);

   

   void        (*SetStream)(IImage * po, IAStream * ps);
   boolean     (*HandleEvent)(IImage * po, uint16 evt, uint16 wParam, uint32 dwParam);
   void        (*Notify)(IImage * po, PFNIMAGEINFO pfn, void * pUser);
};








































































































































































































































































































































































































































































































































































#line 599 "d:\\brew\\inc\\AEEImage.h"

#line 20 "d:\\brew\\inc\\AEEShell.h"
#line 1 "d:\\brew\\inc\\AEESoundPlayer.h"




































#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 38 "d:\\brew\\inc\\AEESoundPlayer.h"
#line 1 "d:\\brew\\inc\\AEESound.h"






















#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 24 "d:\\brew\\inc\\AEESound.h"










enum {
   AEE_SOUND_UNKNOWN,
   AEE_SOUND_SUCCESS,
   AEE_SOUND_PLAY_DONE,
   AEE_SOUND_FAILURE,
   AEE_SOUND_LAST
};



typedef int8 AEESoundStatus;
#line 46 "d:\\brew\\inc\\AEESound.h"

enum {
   AEE_SOUND_DEVICE_UNKNOWN,     
   AEE_SOUND_DEVICE_HANDSET,     
   AEE_SOUND_DEVICE_HFK,         
   AEE_SOUND_DEVICE_HEADSET,     

   AEE_SOUND_DEVICE_AHFK,        
   AEE_SOUND_DEVICE_SDAC,        

   AEE_SOUND_DEVICE_TTY_HFK,     
   AEE_SOUND_DEVICE_TTY_HEADSET, 

   AEE_SOUND_DEVICE_CURRENT,     
   AEE_SOUND_DEVICE_SPEAKER,     
   AEE_SOUND_DEVICE_LAST         
};



typedef int8 AEESoundDevice;
#line 68 "d:\\brew\\inc\\AEESound.h"

enum {
   AEE_SOUND_METHOD_UNKNOWN,     
   AEE_SOUND_METHOD_VOICE,       
   AEE_SOUND_METHOD_BEEP,        
   AEE_SOUND_METHOD_MESSAGE,     
   AEE_SOUND_METHOD_RING,        
   AEE_SOUND_METHOD_CLICK,       
   AEE_SOUND_METHOD_MIDI,        
   AEE_SOUND_METHOD_AUX,         
   AEE_SOUND_METHOD_LAST         
};



typedef int8 AEESoundMethod;
#line 85 "d:\\brew\\inc\\AEESound.h"

enum {
   AEE_SOUND_APATH_LOCAL,
   AEE_SOUND_APATH_TX,
   AEE_SOUND_APATH_BOTH,
   AEE_SOUND_APATH_MUTE,
   AEE_SOUND_APATH_LAST
};



typedef int8 AEESoundAPath;
#line 98 "d:\\brew\\inc\\AEESound.h"

enum {
   AEE_SOUND_MUTECTL_UNMUTED,
   AEE_SOUND_MUTECTL_MUTED,
   AEE_SOUND_MUTECTL_LAST
};



typedef int8 AEESoundMuteCtl;
#line 109 "d:\\brew\\inc\\AEESound.h"

enum {
   AEE_TONE_FIRST,
   AEE_TONE_0,              
   AEE_TONE_1,              
   AEE_TONE_2,              
   AEE_TONE_3,              
   AEE_TONE_4,              
   AEE_TONE_5,              
   AEE_TONE_6,              
   AEE_TONE_7,              
   AEE_TONE_8,              
   AEE_TONE_9,              
   AEE_TONE_A,              
   AEE_TONE_B,              
   AEE_TONE_C,              
   AEE_TONE_D,              
   AEE_TONE_POUND,          
   AEE_TONE_STAR,           
   AEE_TONE_CTRL,           
   AEE_TONE_2ND,            
   AEE_TONE_WARN,           
   AEE_TONE_ERR,            
   AEE_TONE_TIME,           
   AEE_TONE_RING_A,         
   AEE_TONE_RING_B,         
   AEE_TONE_RING_C,         
   AEE_TONE_RING_D,         
   AEE_TONE_RING_A4,        
   AEE_TONE_RING_AS4,       
   AEE_TONE_RING_B4,        
   AEE_TONE_RING_C4,        
   AEE_TONE_RING_CS4,       
   AEE_TONE_RING_D4,        
   AEE_TONE_RING_DS4,       
   AEE_TONE_RING_E4,        
   AEE_TONE_RING_F4,        
   AEE_TONE_RING_FS4,       
   AEE_TONE_RING_G4,        
   AEE_TONE_RING_GS4,       
   AEE_TONE_RING_A5,        
   AEE_TONE_RING_AS5,       
   AEE_TONE_RING_B5,        
   AEE_TONE_RING_C5,        
   AEE_TONE_RING_CS5,       
   AEE_TONE_RING_D5,        
   AEE_TONE_RING_DS5,       
   AEE_TONE_RING_E5,        
   AEE_TONE_RING_F5,        
   AEE_TONE_RING_FS5,       
   AEE_TONE_RING_G5,        
   AEE_TONE_RING_GS5,       
   AEE_TONE_RING_A6,        
   AEE_TONE_RING_AS6,       
   AEE_TONE_RING_B6,        
   AEE_TONE_RING_C6,        
   AEE_TONE_RING_CS6,       
   AEE_TONE_RING_D6,        
   AEE_TONE_RING_DS6,       
   AEE_TONE_RING_E6,        
   AEE_TONE_RING_F6,        
   AEE_TONE_RING_FS6,       
   AEE_TONE_RING_G6,        
   AEE_TONE_RING_GS6,       
   AEE_TONE_RING_A7,        
   AEE_TONE_RBACK,          
   AEE_TONE_BUSY,           
   AEE_TONE_INTERCEPT_A,    
   AEE_TONE_INTERCEPT_B,    
   AEE_TONE_REORDER_TONE,   
   AEE_TONE_PWRUP,          
   AEE_TONE_OFF_HOOK_TONE,  
   AEE_TONE_CALL_WT_TONE,   
   AEE_TONE_DIAL_TONE_TONE, 
   AEE_TONE_ANSWER_TONE,    
   AEE_TONE_HIGH_PITCH_A,   
   AEE_TONE_HIGH_PITCH_B,   
   AEE_TONE_MED_PITCH_A,    
   AEE_TONE_MED_PITCH_B,    
   AEE_TONE_LOW_PITCH_A,    
   AEE_TONE_LOW_PITCH_B,    
   AEE_TONE_TEST_ON,        
   AEE_TONE_MSG_WAITING,    
   AEE_TONE_PIP_TONE_TONE,  
   AEE_TONE_SPC_DT_INDIA,   
   AEE_TONE_SIGNAL_INDIA,   
   AEE_TONE_DT_TONE_INDIA,  
   AEE_TONE_DT_TONE_BRAZIL, 
   AEE_TONE_DT_DTACO_TONE,  
                            
   AEE_TONE_HFK_TONE1,      
   AEE_TONE_HFK_TONE2,      

   AEE_TONE_SILENCE,        
   AEE_TONE_LAST            
};



typedef int8 AEESoundTone;
#line 210 "d:\\brew\\inc\\AEESound.h"

enum {
   AEE_SOUND_STATUS_CB,
   AEE_SOUND_VOLUME_CB
};



typedef int8 AEESoundCmd;
#line 220 "d:\\brew\\inc\\AEESound.h"

typedef union
{
   uint16 wVolume;
   uint16 wPlayIndex;
} AEESoundCmdData;

typedef struct _AEESoundToneData
{
   AEESoundTone   eTone;
   uint16         wDuration;
} AEESoundToneData;

typedef struct _AEESoundInfo
{
   AEESoundDevice    eDevice;
   AEESoundMethod    eMethod;
   AEESoundAPath     eAPath;
   AEESoundMuteCtl   eEarMuteCtl;
   AEESoundMuteCtl   eMicMuteCtl;
} AEESoundInfo;


typedef void (*PFNSOUNDSTATUS)
(
   void*          pUser, 
   AEESoundCmd    eCBType,
   AEESoundStatus eSPStatus,
   uint32         dwParam
);


typedef struct _ISound	ISound;

























struct _ISound { struct ISoundVtbl *pvt;};typedef struct ISoundVtbl ISoundVtbl;struct ISoundVtbl
{
   uint32 (*AddRef) (ISound*); uint32 (*Release) (ISound*);
   

   void     (*RegisterNotify)(ISound* po, PFNSOUNDSTATUS pfn, const void* pUser);

   int      (*Set)(ISound* po, const AEESoundInfo* pSoundInfo);
   void     (*Get)(ISound* po, AEESoundInfo* pSoundInfo);

   void     (*SetDevice)(ISound* po);

   void     (*PlayTone)(ISound* po, AEESoundToneData toneData);
   void     (*PlayToneList)(ISound* po, AEESoundToneData* pToneData, uint16 wDataLen);
   void     (*PlayFreqTone)(ISound* po, uint16 wHiFreq, uint16 wLoFreq, uint16 wDuration);
   void     (*StopTone)(ISound* po);

   void     (*Vibrate)(ISound* po, uint16 wDuration);
   void     (*StopVibrate)(ISound* po);

   void     (*SetVolume)(ISound* po, uint16 wVolume);
   void     (*GetVolume)(ISound* po);
};



































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 1393 "d:\\brew\\inc\\AEESound.h"

#line 39 "d:\\brew\\inc\\AEESoundPlayer.h"







enum {
   AEE_SOUNDPLAYER_UNKNOWN,            
   AEE_SOUNDPLAYER_SUCCESS,            
   AEE_SOUNDPLAYER_REWIND,             
   AEE_SOUNDPLAYER_FFORWARD,           
   AEE_SOUNDPLAYER_PAUSE,              
   AEE_SOUNDPLAYER_RESUME,             
   AEE_SOUNDPLAYER_TEMPO,              
   AEE_SOUNDPLAYER_TUNE,               
   AEE_SOUNDPLAYER_PAN,                
   AEE_SOUNDPLAYER_AUDIO_SPEC,         
   AEE_SOUNDPLAYER_TICK_UPDATE,	      
   AEE_SOUNDPLAYER_DATA_ACCESS_DELAY,  
   AEE_SOUNDPLAYER_ABORTED,            
   AEE_SOUNDPLAYER_REPEAT,             
   AEE_SOUNDPLAYER_DONE,               
   AEE_SOUNDPLAYER_FAILURE,            
   AEE_SOUNDPLAYER_LAST
};



typedef int8 AEESoundPlayerStatus;
#line 70 "d:\\brew\\inc\\AEESoundPlayer.h"



enum {
   SDT_NONE,
   SDT_FILE,         
   SDT_BUFFER,       
   SDT_VOICEPROMPT
};



typedef int8 AEESoundPlayerInput;
#line 84 "d:\\brew\\inc\\AEESoundPlayer.h"

enum {
   AEE_SOUNDPLAYER_SOURCE_UNKNOWN,  
   AEE_SOUNDPLAYER_SOURCE_MEM,      
   AEE_SOUNDPLAYER_SOURCE_FILE,     
                                    
   AEE_SOUNDPLAYER_SOURCE_LAST
};



typedef int8 AEESoundPlayerSource;
#line 97 "d:\\brew\\inc\\AEESoundPlayer.h"


enum {
   AEE_SOUNDPLAYER_FILE_UNKNOWN, 
   AEE_SOUNDPLAYER_FILE_MIDI,    
   AEE_SOUNDPLAYER_FILE_MP3,     
   AEE_SOUNDPLAYER_FILE_LAST
};



typedef int8 AEESoundPlayerFile;
#line 110 "d:\\brew\\inc\\AEESoundPlayer.h"


typedef struct 
{
   AEESoundPlayerFile     fType;  
} AEESoundPlayerMIDISpec;


enum {
   AEE_SOUNDPLAYER_MP3_VERSION_25,      
   AEE_SOUNDPLAYER_MP3_VERSION_RESERVED,
   AEE_SOUNDPLAYER_MP3_VERSION_2,       
   AEE_SOUNDPLAYER_MP3_VERSION_1,       
   AEE_SOUNDPLAYER_MP3_VERSION_UNKNOWN  
};



typedef int8 AEESoundPlayerMP3Version;
#line 130 "d:\\brew\\inc\\AEESoundPlayer.h"


enum {
   AEE_SOUNDPLAYER_LAYER_RESERVED, 
   AEE_SOUNDPLAYER_LAYER_3,        
   AEE_SOUNDPLAYER_LAYER_2,        
   AEE_SOUNDPLAYER_LAYER_1,        
   AEE_SOUNDPLAYER_LAYER_UNKNOWN   
};



typedef int8 AEESoundPlayerMP3Layer;
#line 144 "d:\\brew\\inc\\AEESoundPlayer.h"


enum {
   
   AEE_SOUNDPLAYER_MP3_BITRATE_FREE = 0,
  
    
   AEE_SOUNDPLAYER_MP3_BITRATE_8K   = 8, 
   AEE_SOUNDPLAYER_MP3_BITRATE_16K  = 16,
   AEE_SOUNDPLAYER_MP3_BITRATE_24K  = 24,
   AEE_SOUNDPLAYER_MP3_BITRATE_32K  = 32,
   AEE_SOUNDPLAYER_MP3_BITRATE_40K  = 40,
   AEE_SOUNDPLAYER_MP3_BITRATE_48K  = 48,
   AEE_SOUNDPLAYER_MP3_BITRATE_56K  = 56,
   AEE_SOUNDPLAYER_MP3_BITRATE_64K  = 64,
   AEE_SOUNDPLAYER_MP3_BITRATE_80K  = 80,
   AEE_SOUNDPLAYER_MP3_BITRATE_96K  = 96,
   AEE_SOUNDPLAYER_MP3_BITRATE_112K = 112,
   AEE_SOUNDPLAYER_MP3_BITRATE_128K = 128,
   AEE_SOUNDPLAYER_MP3_BITRATE_144K = 144,
   AEE_SOUNDPLAYER_MP3_BITRATE_160K = 160,
   AEE_SOUNDPLAYER_MP3_BITRATE_176K = 176,
   AEE_SOUNDPLAYER_MP3_BITRATE_192K = 192,
   AEE_SOUNDPLAYER_MP3_BITRATE_224K = 224,
   AEE_SOUNDPLAYER_MP3_BITRATE_256K = 256,
   AEE_SOUNDPLAYER_MP3_BITRATE_288K = 288,
   AEE_SOUNDPLAYER_MP3_BITRATE_320K = 320,
   AEE_SOUNDPLAYER_MP3_BITRATE_352K = 352,
   AEE_SOUNDPLAYER_MP3_BITRATE_384K = 384,
   AEE_SOUNDPLAYER_MP3_BITRATE_416K = 416,
   AEE_SOUNDPLAYER_MP3_BITRATE_448K = 448,
   
   
   AEE_SOUNDPLAYER_MP3_BITRATE_VAR  = 500,
    
   
   AEE_SOUNDPLAYER_MP3_BITRATE_UNK  = 501
};



typedef int16 AEESoundPlayerMP3BitRate;
#line 187 "d:\\brew\\inc\\AEESoundPlayer.h"


enum {
   AEE_SOUNDPLAYER_MP3_SAMPLE_RATE_UNKNOWN,  
   AEE_SOUNDPLAYER_MP3_SAMPLE_RATE_8000 = 1, 
   AEE_SOUNDPLAYER_MP3_SAMPLE_RATE_11025,    
   AEE_SOUNDPLAYER_MP3_SAMPLE_RATE_12000,    
   AEE_SOUNDPLAYER_MP3_SAMPLE_RATE_16000,    
   AEE_SOUNDPLAYER_MP3_SAMPLE_RATE_22050,    
   AEE_SOUNDPLAYER_MP3_SAMPLE_RATE_24000,    
   AEE_SOUNDPLAYER_MP3_SAMPLE_RATE_32000,    
   AEE_SOUNDPLAYER_MP3_SAMPLE_RATE_44100,    
   AEE_SOUNDPLAYER_MP3_SAMPLE_RATE_48000,    
   AEE_SOUNDPLAYER_MP3_SAMPLE_RATE_LAST
};



typedef int8 AEESoundPlayerMP3SampleRate;
#line 207 "d:\\brew\\inc\\AEESoundPlayer.h"


enum {
   AEE_SOUNDPLAYER_MP3_CHANNEL_STEREO,       
   AEE_SOUNDPLAYER_MP3_CHANNEL_JOINT_STEREO, 
   AEE_SOUNDPLAYER_MP3_CHANNEL_DUAL,         
   AEE_SOUNDPLAYER_MP3_CHANNEL_SINGLE        
};



typedef int8 AEESoundPlayerMP3Channel;
#line 220 "d:\\brew\\inc\\AEESoundPlayer.h"


enum {
   
   AEE_SOUNDPLAYER_MP3_EXT_BAND_4_31  = 0, 
   AEE_SOUNDPLAYER_MP3_EXT_BAND_8_31  = 1, 
   AEE_SOUNDPLAYER_MP3_EXT_BAND_12_31 = 2, 
   AEE_SOUNDPLAYER_MP3_EXT_BAND_16_31 = 3, 
   
   
   AEE_SOUNDPLAYER_MP3_EXT_INTENSITY_OFF_MS_OFF = 0, 
   AEE_SOUNDPLAYER_MP3_EXT_INTENSITY_ON_MS_OFF  = 1, 
   AEE_SOUNDPLAYER_MP3_EXT_INTENSITY_OFF_MS_ON  = 2, 
   AEE_SOUNDPLAYER_MP3_EXT_INTENSITY_ON_MS_ON   = 3  
};



typedef int8 AEESoundPlayerMP3Extension;
#line 240 "d:\\brew\\inc\\AEESoundPlayer.h"


enum {
   AEE_SOUNDPLAYER_MP3_EMPHASIS_NONE,
   AEE_SOUNDPLAYER_MP3_EMPHASIS_50_15_MS,
   AEE_SOUNDPLAYER_MP3_EMPHASIS_RESERVED,
   AEE_SOUNDPLAYER_MP3_EMPHASIS_CCITT_J17
};



typedef int8 AEESoundPlayerMP3Emphasis;
#line 253 "d:\\brew\\inc\\AEESoundPlayer.h"


typedef struct 
{
   
   AEESoundPlayerFile            fType;        
   AEESoundPlayerMP3Version      version;      
   AEESoundPlayerMP3Layer        layer;        
   boolean                       crcFlag;      
   AEESoundPlayerMP3BitRate      bitrate;      
   AEESoundPlayerMP3SampleRate   sampleRate;   
   AEESoundPlayerMP3Channel      channel;      
   AEESoundPlayerMP3Extension    extension;    
   boolean                       copyrightFlag;
   boolean                       originalFlag; 
   AEESoundPlayerMP3Emphasis     emphasis;     
   char                          title[30];    
   char                          artist[30];   
   char                          album[30];    
   char                          year[4];                      
   char                          comment[30];  
   uint8                         genre;                        
} AEESoundPlayerMP3Spec;


typedef union
{
   AEESoundPlayerFile      fType;
   AEESoundPlayerMIDISpec  MIDISpec;
   AEESoundPlayerMP3Spec   MP3Spec;
} AEESoundPlayerAudioSpec;

enum {
   AEE_SOUNDPLAYER_STATUS_CB, 
   AEE_SOUNDPLAYER_PLAY_CB,   
   AEE_SOUNDPLAYER_TIME_CB,   
   AEE_SOUNDPLAYER_SOUND_CB,  
   AEE_SOUNDPLAYER_VOLUME_CB  
};



typedef int8 AEESoundPlayerCmd;
#line 297 "d:\\brew\\inc\\AEESoundPlayer.h"



typedef union 
{
   uint32		            dwElapsedTime;
   uint32                  dwTotalTime;
   uint32		            dwTempo;
   uint32		            dwTune;
   uint32                  dwPan;
   uint16                  wVolume;
   AEESoundPlayerAudioSpec spSpec;
} AEESoundPlayerCmdData;

typedef struct
{
   byte *                pbData;
   uint16                wNumFrames;
} AEEVoicePrompt;

typedef struct
{
   AEESoundPlayerInput  eInput;
   void *               pData;
   uint32               dwSize;
} AEESoundPlayerInfo;

typedef void (*PFNSOUNDPLAYERSTATUS)(void * pUser, AEESoundPlayerCmd  eCBType,AEESoundPlayerStatus eSPStatus,uint32 dwParam);


typedef struct _ISoundPlayer	ISoundPlayer;























struct _ISoundPlayer { struct ISoundPlayerVtbl *pvt;};typedef struct ISoundPlayerVtbl ISoundPlayerVtbl;struct ISoundPlayerVtbl
{
   uint32 (*AddRef) (ISoundPlayer*); uint32 (*Release) (ISoundPlayer*);
    
   void     (*RegisterNotify)(ISoundPlayer * po,PFNSOUNDPLAYERSTATUS pfn, void * pUser);
   void     (*Set)(ISoundPlayer * po, AEESoundPlayerInput t, void * pData);
   void     (*Play)(ISoundPlayer * po);
   void     (*Stop)(ISoundPlayer * po);
   void     (*Rewind)(ISoundPlayer * po,uint32 dwTime);
   void     (*FastForward)(ISoundPlayer * po,uint32 dwTime);
   void     (*Pause)(ISoundPlayer * po);
   void     (*Resume)(ISoundPlayer * po);
   void     (*SetTempo)(ISoundPlayer * po,uint32 dwTempoFactor);
   void     (*SetTune)(ISoundPlayer * po,int8 nStep);
   void     (*SetVolume)(ISoundPlayer * po, uint16 wVolume);
   void     (*GetVolume)(ISoundPlayer * po);
   void     (*GetTotalTime)(ISoundPlayer * po);
   void     (*SetSoundDevice)(ISoundPlayer * po,AEESoundDevice eDevice, AEESoundMuteCtl eEarMute, AEESoundMuteCtl eMicMute );
   void     (*SetStream)(ISoundPlayer * po, IAStream * ps);

   int      (*SetInfo)(ISoundPlayer * po, AEESoundPlayerInfo * pInfo);
   int      (*GetInfo)(ISoundPlayer * po, AEESoundPlayerInfo * pInfo);
};























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 1742 "d:\\brew\\inc\\AEESoundPlayer.h"

#line 21 "d:\\brew\\inc\\AEEShell.h"
#line 1 "d:\\brew\\inc\\AEEControls_res.h"














































































#line 80 "d:\\brew\\inc\\AEEControls_res.h"
#line 22 "d:\\brew\\inc\\AEEShell.h"
#line 1 "d:\\brew\\inc\\AEELngCode.h"


























































































































































































































#line 220 "d:\\brew\\inc\\AEELngCode.h"

#line 23 "d:\\brew\\inc\\AEEShell.h"

typedef struct _IDialog    IDialog;
typedef struct _IStatic    IStatic;













typedef struct
{
   int         error;            
   AEECLSID    clsApp;           
   IDisplay *  pDisplay;         
   AEERect     rc;               
   const char *pszArgs;          
} AEEAppStart;
   
   









enum {
   RESTYPE_STRING = 1,
   RESTYPE_IMAGE  = 6,
   RESTYPE_DIALOG = 0x2000,
   RESTYPE_CONTROL= 0x2001,
   RESTYPE_LISTITEM=0x2002,
   RESTYPE_BINARY = 0x5000
};



typedef int16 ResType;
#line 71 "d:\\brew\\inc\\AEEShell.h"





typedef int (*PFNMODENTRY)(IShell * pIShell, void * pv, IModule ** ppIModule);







typedef struct _AEEScreenSaverInfo  
{
   uint16   wSecs;
   uint16   wSecsMin;      
   uint16   wSecsMax;      
} AEEScreenSaverInfo;


























typedef struct
{
   AEECLSID       cls;
   char  *        pszMIF;           
   uint16         wIDBase;          
   uint16         wAppType;         
   uint16         wPad2;
   uint16         wPad3;
   uint16         wPad4;
   uint16         wFlags;           
} AEEAppInfo;














































typedef struct _DListItem 
{
   uint16      wID;           
   uint16      wTextID;       
   uint16      wIconID;       
   uint16      pad;          
   uint32      dwData;        
} DListItem;

typedef struct
{
   AEECLSID    cls;           
   uint16      wID;           
   uint16      nItems;        
   uint32      dwProps;       
   uint16      wTextID;       
   uint16      wTitleID;      
   AEERect     rc;            
} DialogItemHead;




typedef struct
{
   DialogItemHead h;
   DListItem      items[1];
} DialogItem;





typedef struct
{
   DialogItemHead h;
   uint16         wItemIDs[1];
} DialogItemRes;

typedef struct
{
   uint16      wID;           
   uint16      nControls;     
   AEERect     rc;            
   uint32      dwProps;       
   uint16      wTitle;        
   uint16      wFocusID;      
} DialogInfoHead;




   
typedef struct
{
   DialogInfoHead h;
   DialogItem     controls[1];
} DialogInfo;




typedef struct
{
   DialogInfoHead h;
   uint16         wControlIDs[1];
} DialogInfoRes;
   
typedef boolean (*PFNAEEEVENT)(void * pUser, uint16 evt, uint16 w, uint32 dw);

struct _IDialog { struct IDialogVtbl *pvt;};typedef struct IDialogVtbl IDialogVtbl;struct IDialogVtbl
{
   uint32 (*AddRef) (IDialog*); uint32 (*Release) (IDialog*);

   int16       (*SetFocus)(IDialog * po, int16 wID);
   IControl *  (*GetControl)(IDialog * po, int16 wID);
   void        (*SetEventHandler)(IDialog * po, PFNAEEEVENT pfn, void * pData);
   uint16      (*GetID)(IDialog * po);
   void        (*SetProperties)(IDialog *po, uint32 props);
   uint32      (*GetProperties)(IDialog *po);
   void        (*Redraw)(IDialog * po);
};



















enum {
   CT_NONE,
   CT_BUSY
};



typedef int8 AEECursor;
#line 283 "d:\\brew\\inc\\AEEShell.h"







enum {
   AEE_IT_MENU,
   AEE_IT_SOFTKEY,
   AEE_IT_ICONVIEW
};



typedef int8 AEEItemType;
#line 300 "d:\\brew\\inc\\AEEShell.h"

typedef struct 
{
   AEEFrameType   ft;         
   uint16         xOffset;    
   uint16         yOffset;    
   AEERasterOp    roImage;    
} AEEItemStyle;






#line 315 "d:\\brew\\inc\\AEEShell.h"




#line 320 "d:\\brew\\inc\\AEEShell.h"



#line 324 "d:\\brew\\inc\\AEEShell.h"



#line 328 "d:\\brew\\inc\\AEEShell.h"



#line 332 "d:\\brew\\inc\\AEEShell.h"



#line 336 "d:\\brew\\inc\\AEEShell.h"



#line 340 "d:\\brew\\inc\\AEEShell.h"






enum {
   UNUSED1,
   UNUSED2
};



typedef int8 EmptyEnum;
#line 355 "d:\\brew\\inc\\AEEShell.h"

typedef struct
{
   uint16            cxScreen;         
   uint16            cyScreen;         
   uint16            cxAltScreen;      
   uint16            cyAltScreen;      
   uint16            cxScrollBar;      
   uint16            wEncoding;        
   uint16            wMenuTextScroll;  
   uint16            nColorDepth;      
   EmptyEnum         unused2;          
   uint32            wMenuImageDelay;  
   uint32            dwRAM;            
   flg               bAltDisplay:1;    
   flg               bFlip:1;          
   flg               bVibrator:1;      
   flg               bExtSpeaker:1;    
   flg               bVR:1;            
   flg               bPosLoc:1;        
   flg               bMIDI:1;          
   flg               bCMX:1;           
   uint32            dwPromptProps;    
   uint16            wKeyCloseApp;     
   uint16            wKeyCloseAllApps; 
   uint32            dwLang;           

   
   
   
   

   uint16            wStructSize;      
   uint32            dwNetLinger;      
   uint32            dwSleepDefer;     
   uint16            wMaxPath;         
   uint32            dwPlatformID;     
} AEEDeviceInfo;


typedef int AEEDeviceItem;




































enum {
   BEEP_OFF,
   BEEP_ALERT,
   BEEP_REMINDER,
   BEEP_MSG,
   BEEP_ERROR,
   BEEP_VIBRATE_ALERT,
   BEEP_VIBRATE_REMIND
};



typedef int8 BeepType;
#line 446 "d:\\brew\\inc\\AEEShell.h"

























typedef AEECLSID AEEHandlerType;






typedef struct
{
   const char  *  pszRes;
   const AECHAR * pTitle;
   const AECHAR * pText;
   uint16         wTitleID;
   uint16         wTextID;
   uint16         wDefBtn;       
   const uint16 * pBtnIDs;
   uint32         dwProps;
   AEEFont        fntTitle;
   AEEFont        fntText;
   uint32         dwTimeout;     
} AEEPromptInfo;




typedef struct 
{
   int32          dwLat;
   int32          dwLon;
   uint32         dwTimeStamp;
} AEEPositionInfo;


typedef void (*PFNPOSITIONCB)(void * pUser, AEEPositionInfo * pli, int nErr);

enum {
   AEE_ACCURACY_LOW,
   AEE_ACCURACY_MED,
   AEE_ACCURACY_HIGH
};



typedef int8 AEEPosAccuracy;
#line 516 "d:\\brew\\inc\\AEEShell.h"










typedef struct AEEResBlob
{
   byte  bDataOffset;     
   byte  bZero;           

   char  szMimeType[1];   

} AEEResBlob;





























typedef struct _NotifyStartStatus
{
   AEECLSID    cls;  
   int         nErr; 
} NotifyStartStatus;



struct _IShell { struct IShellVtbl *pvt;};typedef struct IShellVtbl IShellVtbl;struct IShellVtbl
{
   uint32 (*AddRef) (IShell*); uint32 (*Release) (IShell*);

   int            (*CreateInstance)(IShell * po, AEECLSID ClsId, void ** ppobj);
   boolean        (*QueryClass)(IShell * po, AEECLSID cls, AEEAppInfo * pai);
   void           (*GetDeviceInfo)(IShell * po, AEEDeviceInfo * pi);

   

   int            (*StartApplet)(IShell *po, AEECLSID cls,uint16 wFlags, const char * pszArgs);
   int            (*CloseApplet)(IShell * po, boolean bReturnToIdle);
   boolean        (*CanStartApplet)(IShell * po, AEECLSID cls);
   AEECLSID       (*ActiveApplet)(IShell * po);
   void           (*EnumAppletInit)(IShell * po);
   AEECLSID       (*EnumNextApplet)(IShell * po, AEEAppInfo * pai);

   

   int            (*SetTimer)(IShell * po, int32 dwMsecs, PFNNOTIFY pfn, void * pUser);
   int            (*CancelTimer)(IShell * po, PFNNOTIFY pfn, void * pUser);
   uint32         (*GetTimerExpiration)(IShell * po, PFNNOTIFY pfn, void * pUser);

   

   int            (*CreateDialog)(IShell * po, const char * pszRes, uint16 wID, DialogInfo * pInfo);
   IDialog *      (*GetActiveDialog)(IShell * po);
   int            (*EndDialog)(IShell * po);

   
   
   int            (*LoadResString)(IShell * pShell, const char * pszBaseFile, uint16 nResID, AECHAR * pBuff, int nSize);
   void *         (*LoadResData)(IShell * po, const char * pszResFile, uint16 nResID, ResType nType);
   IBase *        (*LoadResObject)(IShell * pShell,const char * pszResFile, uint16 nResID, AEECLSID cls);
   void           (*FreeResData)(IShell * po, void * pData);

   

   boolean        (*SendEvent)(IShell * po, uint16 wFlags, AEECLSID clsApp,uint16 evt, uint16 wParam, uint32 dwParam);

   

   boolean        (*Beep)(IShell * po, BeepType nBeepType, boolean bLoud);

   

   int            (*GetPrefs)(IShell * po, AEECLSID id,uint16 wVer, void * pCfg, uint16 nSize);
   int            (*SetPrefs)(IShell * po, AEECLSID id,uint16 wVer, void * pCfg, uint16 nSize);

   

   void           (*GetItemStyle)(IShell * po, AEEItemType t, AEEItemStyle * pNormal, AEEItemStyle * pSel);

   

   boolean        (*Prompt)(IShell * po, AEEPromptInfo * pi);
   boolean        (*MessageBox)(IShell * po, const char * pszRes, uint16 wTitle, uint16 wText);
   boolean        (*MessageBoxText)(IShell *po, const AECHAR * pTitle, const AECHAR * pText);

   
   
   int            (*SetAlarm)(IShell *po, AEECLSID cls, uint16 nUserCode, uint32 nMins);
   int            (*CancelAlarm)(IShell *po, AEECLSID cls, uint16 nUserCode);
   boolean        (*AlarmsActive)(IShell *po);

   
   
   AEECLSID       (*GetHandler)(IShell * po, AEECLSID cls, const char * pszIn);   
   int            (*RegisterHandler)(IShell * po, AEECLSID clsBase, const char * pszIn, AEECLSID clsHandler);
   int            (*RegisterNotify)(IShell * po, AEECLSID clsNotify, AEECLSID clsType, uint32 dwMask);
   int            (*Notify)(IShell * po,AEECLSID clsType, uint32 dwMask, void * pData);

   

   void           (*Resume)(IShell * po, AEECallback * pcb);

   
  
   boolean        (*ForceExit)(IShell * po);

   

   int            (*GetPosition)(IShell * po, AEEPosAccuracy nPres, PFNPOSITIONCB pfn, void * pUser);

   
   
   boolean        (*CheckPrivLevel)(IShell * po, uint16 wPrivWant, boolean bQueryOnly);        

   

   boolean        (*IsValidResource)(IShell * po, const char * pszRes, uint16 wID,ResType t, AEECLSID cls);   
   void *         (*LoadResDataEx)(IShell * po, const char * pszResFile, uint16 nResID, ResType nType, void *pBuf, uint32 *pnLen);

   

   void           (*RegisterSystemCallback)(IShell * po, AEECallback * pcb, int nSCBType);

   
   int            (*DetectType)(IShell * po, const void * cpBuf, uint32 * pdwSize, const char * cpszName, const char ** pcpszMIME);

   
   int            (*GetDeviceInfoEx)(IShell *po, AEEDeviceItem nItem, void *pBuff, int *nSize);

   uint32         (*GetClassItemID)(IShell *po,AEECLSID cls);
};




























































































































struct _IStatic { struct IStaticVtbl *pvt;};typedef struct IStaticVtbl IStaticVtbl;struct IStaticVtbl
{
   uint32 (*AddRef) (IStatic*); uint32 (*Release) (IStatic*);
   boolean (*HandleEvent) (IStatic *, uint16 evt, uint16 wParam, uint32 dwParam); boolean (*Redraw) (IStatic *); void (*SetActive) (IStatic *, boolean); boolean (*IsActive) (IStatic *); void (*SetRect) (IStatic *, const AEERect *); void (*GetRect) (IStatic *, AEERect *); void (*SetProperties) (IStatic *, uint32); uint32 (*GetProperties) (IStatic *); void (*Reset) (IStatic *);

   boolean        (*SetText)(IStatic * po, AECHAR * pTitle, AECHAR * pText, AEEFont fntTitle, AEEFont fntText);

   

   void           (*SetFont)(IStatic * po, AEEFont fntText, AEEFont fntTitle);
   boolean        (*SetTextEx)(IStatic * po, byte * pbText, IAStream * pStream, boolean bAppend);
   int            (*GoToLine)(IStatic * po, int nLine);
   void           (*SizeToFit)(IStatic * po, AEERect * prc);
   boolean        (*IsScrollable)(IStatic * po);
};
























#line 840 "d:\\brew\\inc\\AEEShell.h"

























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 22 "d:\\brew\\inc\\aeestdlib.h"









#line 32 "d:\\brew\\inc\\aeestdlib.h"


#line 35 "d:\\brew\\inc\\aeestdlib.h"
#line 36 "d:\\brew\\inc\\aeestdlib.h"









typedef struct AEEHelperFuncs AEEHelperFuncs;

struct AEEHelperFuncs
{
   void          *(*memmove)(void *pd, const void *ps, size_t s);
   void          *(*memset)(void *pd, int c, size_t s);

   
   char          *(*strcpy)(char *dst, const char *src);
   char          *(*strcat)(char *dst, const char *src);
   int            (*strcmp)(const char *s1, const char *s2);
   size_t         (*strlen)(const char *s);
   char          *(*strchr)(const char *s1, int ch);
   char          *(*strrchr)(const char *s1, int ch);
   int            (*sprintf)(char *pszDest,const char *pszFormat, ...);

   

   AECHAR        *(*wstrcpy)(AECHAR *pDest, const AECHAR *pSrc);
   AECHAR        *(*wstrcat)(AECHAR *pDest, const AECHAR *pSrc);
   int            (*wstrcmp)(const AECHAR *s1, const AECHAR *s2);
   int            (*wstrlen)(const AECHAR *p);
   AECHAR        *(*wstrchr)(const AECHAR *s1, AECHAR ch);
   AECHAR        *(*wstrrchr)(const AECHAR *s1, AECHAR ch);
   void           (*wsprintf)(AECHAR *pDest, int nSize, const AECHAR *pFormat,
                              ...);

   

   AECHAR         *(*strtowstr)(const char *pszIn, AECHAR *pDest, int nSize);
   char           *(*wstrtostr)(const AECHAR *pIn, char *pszDest, int nSize);
   double          (*wstrtofloat)(const AECHAR *pszNum);
   boolean         (*floattowstr)(double val, AECHAR *psz, int nSize);
   boolean         (*utf8towstr)(const byte *pszIn, int nLen, AECHAR *pszDest,
                                 int nSizeDestBytes);
   boolean         (*wstrtoutf8)(const AECHAR *pszIn, int nLen, byte *pszDest, 
                                 int nSizeDestBytes);
   void            (*wstrlower)(AECHAR *pszDest);
   void            (*wstrupper)(AECHAR *pszDest);
   TChType         (*chartype)(AECHAR ch);

   

   void           *(*SetupNativeImage)(AEECLSID cls, void *pBuffer, 
                                       AEEImageInfo *pii, boolean *pbRealloc);

   
   
   void          *(*malloc)(dword dwSize);
   void           (*free)(void *pObj);
   AECHAR        *(*wstrdup)(const AECHAR *pIn);
   void          *(*realloc)(void *pSrc, uint32 dwSize);
   
   

   AECHAR        *(*wwritelongex)(AECHAR *pszBuf, long n, int nPad, 
                                  int *pnRemaining);
   int            (*wstrsize)(const AECHAR *p);
   int            (*wstrncopyn)(AECHAR *pszDest, int cbDest, 
                                const AECHAR *pszSource, int lenSource);
   
   

   int            (*OEMStrLen)(const byte *p);
   int            (*OEMStrSize)(const byte *p);

   

   uint32         (*GetAEEVersion)(byte *pszFormatted, int nSize, 
                                   uint16 wFlags);  

   
   
   int            (*atoi)(const char *psz);

   
   

   double         (*f_op)(double v1, double v2,int nType);
   boolean        (*f_cmp)(double v1, double v2,int nType);

   

   void           (*dbgprintf)(const char *psz,...);
   void           (*wstrcompress)(const AECHAR *pIn, int nChars, byte *pDest,int nSize);

   

   int32          (*LocalTimeOffset)(boolean *pbDaylightSavings);
   void           (*GetRand)(byte *pDest, int nSize);
   uint32         (*GetTimeMS)(void); 
   uint32         (*GetUpTimeMS)(void);
   uint32         (*GetSeconds)(void);
   void           (*GetJulianDate)(uint32 dwSecs, JulianType *pDate);

   void           (*sysfree)(void *pb);

   

   IApplet       *(*GetAppInstance)(void);

   uint32         (*strtoul)(const char *nptr, char **endptr, int base );
   char          *(*strncpy)(char *strDest, const char *strSource,size_t count );
   int            (*strncmp)(const char *a, const char *b, size_t length );
   int            (*stricmp)(const char *a, const char *b);
   int            (*strnicmp)(const char *a, const char *b, size_t length);
   char          *(*strstr)(const char *haystack, const char *needle);
   int            (*memcmp)(const void *a, const void *b, size_t length );
   void          *(*memchr)(const void *src, int c, size_t length );
   void           (*strexpand)(const byte *pSrc, int nCount, AECHAR *pDest,int nSize);
   char          *(*stristr)(const char *cpszHaystack, const char *cpszNeedle);
   char          *(*memstr)(const char *cpHaystack, const char *cpszNeedle, size_t nHaystackLen);
   int            (*wstrncmp)(const AECHAR *s1, const AECHAR *s2, size_t nLen);
   char          *(*strdup)(const char *psz);
   boolean        (*strbegins)(const char *cpszPrefix, const char *psz);
   boolean        (*strends)(const char *cpszSuffic, const char *psz);
   char          *(*strchrend)(const char *pszSrc, char c);
   char          *(*strchrsend)(const char *pszSrc, const char *pszChars);
   char          *(*memrchr)(const char *pcSrch, int c, size_t nLen);
   char          *(*memchrend)(const char *pcSrch, int c, size_t nLen);
   char          *(*memrchrbegin)(const char *pcSrch, int c, size_t nLen);
   char          *(*strlower)(char *psz);
   char          *(*strupper)(char *psz);
   int            (*wstricmp)(const AECHAR * p1, const AECHAR * p2);
   int            (*wstrnicmp)(const AECHAR * p1, const AECHAR * p2, size_t length);
   boolean        (*inet_aton)(const char *pc, uint32 *pulAddr);
   void           (*inet_ntoa)(uint32 ulAddr, char *pc, size_t nLen);
   uint32         (*swapl)(uint32 ul);
   uint16         (*swaps)(uint16 us);

   

   uint32         (*GetFSFree)(uint32 * pdwTotal);
   uint32         (*GetRAMFree)(uint32 * pdwTotal,uint32 * pdwLargest);

   int            (*vsprintf)(char * pszDest,const char * pszFormat,va_list arg);
   int32          (*vsnprintf)(char *buf, uint32 f, const char *format, va_list list);
   int32          (*snprintf)(char *buf, uint32 f, const char *format, ...);
	
	
   uint32         (*JulianToSeconds)(JulianType* pDate);
   size_t         (*strlcpy)(char * dst, const char * src, size_t nSize);
   size_t         (*strlcat)(char * dst, const char * src, size_t nSize);
   size_t         (*wstrlcpy)(AECHAR * dst, const AECHAR * src, size_t nSize);
   size_t         (*wstrlcat)(AECHAR * dst, const AECHAR * src, size_t nSize);
   void          *(*setstaticptr)(int nSPId, void *pNew);
   
   
   double         (*f_assignstr)(const char *pszFloat);
   double         (*f_assignint)(int32 val);
   AECHAR *       (*wwritelong)(AECHAR *pszBuf, long n);
   void          *(*dbgheapmark)(void *ptr, const char * pszFile, int nLine);
   int            (*lockmem)(void ** ppHandle);
   int            (*unlockmem)(void ** ppHandle);
   void           (*dumpheap)(void);
   double         (*strtod)(const char *pszFloat, char ** ppszEnd);
   double         (*f_calc)(double x, int calcType);
   void           (*sleep)(uint32 msecs);
   int            (*getlasterror)(int errRegion);
   double         (*wgs84_to_degrees)(int32 latlon);
};




















































#line 259 "d:\\brew\\inc\\aeestdlib.h"















#line 275 "d:\\brew\\inc\\aeestdlib.h"



extern "C" {
#line 280 "d:\\brew\\inc\\aeestdlib.h"

extern int AEEMod_Load(IShell *ps, void * pszRes, IModule ** pm);


}
#line 286 "d:\\brew\\inc\\aeestdlib.h"




#line 291 "d:\\brew\\inc\\aeestdlib.h"



















































































#line 375 "d:\\brew\\inc\\aeestdlib.h"






#line 382 "d:\\brew\\inc\\aeestdlib.h"




#line 387 "d:\\brew\\inc\\aeestdlib.h"





















































































#line 473 "d:\\brew\\inc\\aeestdlib.h"





















































































#line 559 "d:\\brew\\inc\\aeestdlib.h"












#line 572 "d:\\brew\\inc\\aeestdlib.h"
























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 4373 "d:\\brew\\inc\\aeestdlib.h"

#line 5 "d:\\brew\\inc\\JDefine.h"
#line 1 "d:\\brew\\inc\\aee.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 6 "d:\\brew\\inc\\JDefine.h"
#line 1 "d:\\brew\\inc\\aeeappgen.h"
































#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 34 "d:\\brew\\inc\\aeeappgen.h"
#line 1 "d:\\brew\\inc\\AEEShell.h"
































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 35 "d:\\brew\\inc\\aeeappgen.h"
#line 1 "d:\\brew\\inc\\AEEModGen.h"
































#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 34 "d:\\brew\\inc\\AEEModGen.h"
#line 1 "d:\\brew\\inc\\AEEShell.h"
































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 35 "d:\\brew\\inc\\AEEModGen.h"







typedef int (*PFNMODCREATEINST)(AEECLSID, IShell*, IModule*, void**);


typedef void (*PFNFREEMODDATA)(IModule*);



typedef struct _AEEMod                                     
{
	IModule vtIModule;	
	
	uint32	      m_nRefs;			
   IShell *       m_pIShell;		

	
	
	PFNMODCREATEINST	pfnModCrInst; 

	
	
	PFNFREEMODDATA		pfnModFreeData;

} AEEMod;















extern "C" {
#line 82 "d:\\brew\\inc\\AEEModGen.h"












	int  AEEMod_Load(IShell *ps, void * ph, IModule ** pMod);

#line 97 "d:\\brew\\inc\\AEEModGen.h"


int AEEClsCreateInstance(AEECLSID ClsId, IShell *pIShell, IModule *pMod, void **ppobj);


int      AEEStaticMod_New(int16 nSize, IShell *pIShell, void * ph, IModule ** ppMod,PFNMODCREATEINST pfnMC,PFNFREEMODDATA pfnMF);



}
#line 108 "d:\\brew\\inc\\AEEModGen.h"

#line 110 "d:\\brew\\inc\\AEEModGen.h"


#line 36 "d:\\brew\\inc\\aeeappgen.h"





typedef void (*PFNFREEAPPDATA)(IApplet*);





typedef struct _AEEApplet AEEApplet;

struct _AEEApplet
{
   
   
   
   IApplet vtIApplet;  
   AEECLSID       clsID;
   
   uint32         m_nRefs;			
   IShell    *    m_pIShell;	   
   IModule   *    m_pIModule;		
	IDisplay  *    m_pIDisplay;	

	
   AEEHANDLER     pAppHandleEvent;

	
   
   
   
   PFNFREEAPPDATA pFreeAppData;
};

















extern "C" {
#line 90 "d:\\brew\\inc\\aeeappgen.h"



boolean AEEApplet_New(  int16 nSize,
							   AEECLSID clsID,
							   IShell * pIShell, 
							   IModule * pIModule, 
							   IApplet **ppobj, 
							   AEEHANDLER pAppHandleEvent,
							   PFNFREEAPPDATA pFreeAppData
							);


}
#line 105 "d:\\brew\\inc\\aeeappgen.h"

#line 107 "d:\\brew\\inc\\aeeappgen.h"


#line 7 "d:\\brew\\inc\\JDefine.h"
#line 1 "d:\\brew\\inc\\AEEFile.h"















#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 17 "d:\\brew\\inc\\AEEFile.h"

typedef struct _IFile         IFile;







enum {
   _OFM_READ      = 0x0001,
   _OFM_READWRITE = 0x0002,
   _OFM_CREATE    = 0x0004,
   _OFM_APPEND    = 0x0008
};



typedef int8 AEEOpenFileMode;
#line 37 "d:\\brew\\inc\\AEEFile.h"

enum {
   _SEEK_START,
   _SEEK_END,
   _SEEK_CURRENT
};



typedef int8 AEEFileSeekType;
#line 48 "d:\\brew\\inc\\AEEFile.h"






enum {
   _FA_NORMAL  = 0,
   _FA_HIDDEN  = 0x0001,
   _FA_DIR     = 0x0002,
   _FA_READONLY= 0x0004,
   _FA_SYSTEM  = 0x0008
};



typedef int8 AEEFileAttrib;
#line 66 "d:\\brew\\inc\\AEEFile.h"














typedef struct _FileInfo
{
   char        attrib;
   uint32      dwCreationDate;
   uint32      dwSize;
   char        szName[64];
} AEEFileInfo;
















typedef struct _FileInfoEx
{
   int         nStructSize;
   char        attrib;
   uint32      dwCreationDate;
   uint32      dwSize;
   char  *     pszFile;
   int         nMaxFile;
   AECHAR *    pszDescription;
   int         nDescriptionSize;
   AEECLSID *  pClasses;
   int         nClassesSize;
} AEEFileInfoEx;



typedef struct _AEEFileUseInfo
{
   uint16            wMaxFiles;     
   uint16            wFilesUsed;    
   uint32            dwMaxSpace;    
   uint32            dwSpaceUsed;   
}AEEFileUseInfo;




typedef AEEFileAttrib      FileAttrib;
typedef AEEOpenFileMode    OpenFileMode;
typedef AEEFileSeekType    FileSeekType;
typedef AEEFileInfo        FileInfo;
















struct _IFile { struct IFileVtbl *pvt;};typedef struct IFileVtbl IFileVtbl;struct IFileVtbl
{
   uint32 (*AddRef) (IFile*); uint32 (*Release) (IFile*); void (*Readable) (IFile * po, PFNNOTIFY pfn, void * pUser); int32 (*Read) (IFile * po, void * pDest, uint32 nWant); void (*Cancel) (IFile * po, PFNNOTIFY pfn, void * pUser); uint32 (*Write)(IFile * pIFile,  const void * pBuffer, uint32 dwCount); int (*GetInfo)(IFile * pIFile, FileInfo * pInfo); int32 (*Seek)(IFile * pIFile, FileSeekType seek, int32 position); int (*Truncate)(IFile * pIFile, uint32 truncate_pos); int (*GetInfoEx)(IFile * po,AEEFileInfoEx * pi); int32 (*SetCacheSize)(IFile * po,int nSize);
};






































struct _IFileMgr { struct IFileMgrVtbl *pvt;};typedef struct IFileMgrVtbl IFileMgrVtbl;struct IFileMgrVtbl
{
   uint32 (*AddRef) (IFileMgr*); uint32 (*Release) (IFileMgr*); IFile * (*OpenFile)(IFileMgr * piname, const char *pszFile, OpenFileMode mode); int (*GetInfo)(IFileMgr * piname, const char *pszName, FileInfo * pInfo); int (*Remove)(IFileMgr * piname, const char *pszName); int (*MkDir)(IFileMgr * piname, const char *pszDir); int (*RmDir)(IFileMgr * piname, const char *pszDir); int (*Test)(IFileMgr * piname, const char *pszName); uint32 (*GetFreeSpace)(IFileMgr * piname,uint32 * pdwTotal); int (*GetLastError)(IFileMgr * piname); int (*EnumInit)(IFileMgr * piname, const char *pszDir, boolean bDirs); boolean (*EnumNext)(IFileMgr * piname, FileInfo * pInfo); int (*Rename)(IFileMgr * pfm,const char * pszSrc, const char * pszDest); boolean (*EnumNextEx)(IFileMgr * pfm,AEEFileInfoEx * pInfo); int (*SetDescription)(IFileMgr * pfm, const char * pszName,AECHAR * pszDesc); int (*GetInfoEx)(IFileMgr * pfm,const char * pszName,AEEFileInfoEx * pi); int (*Use)(IFileMgr * pfm,const char * pszName,boolean bUse); int (*GetFileUseInfo)(IFileMgr *pfm, AEEFileUseInfo *pfu);
};





















#line 218 "d:\\brew\\inc\\AEEFile.h"






























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 8 "d:\\brew\\inc\\JDefine.h"

#line 1 "d:\\brew\\inc\\AEESound.h"

















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 10 "d:\\brew\\inc\\JDefine.h"
#line 1 "d:\\brew\\inc\\AEEMedia.h"































#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 33 "d:\\brew\\inc\\AEEMedia.h"





typedef struct _IMedia        IMedia;


































































                                                      








                                                      


                                                      






                                                      







































enum {
   MM_SEEK_START = 0,
   MM_SEEK_END,
   MM_SEEK_CURRENT
};



typedef int8 AEEMediaSeek;
#line 174 "d:\\brew\\inc\\AEEMedia.h"













typedef struct AEEMediaCmdNotify
{
   AEECLSID    clsMedia;   
   IMedia *    pIMedia;    

   int         nCmd;       
   int         nSubCmd;    
   int         nStatus;    
   void *      pCmdData;   
   uint32      dwSize;     
} AEEMediaCmdNotify;

typedef void (*PFNMEDIANOTIFY)(void * pUser, AEEMediaCmdNotify * pCmdNotify);




























typedef struct AEEMediaData
{
   AEECLSID    clsData;    
   void *      pData;      
   uint32      dwSize;     
} AEEMediaData;



















































struct _IMedia { struct IMediaVtbl *pvt;};typedef struct IMediaVtbl IMediaVtbl;struct IMediaVtbl
{
   uint32 (*AddRef) (IMedia*); uint32 (*Release) (IMedia*); int (*QueryInterface)(IMedia *, AEECLSID, void **); int (*RegisterNotify)(IMedia * po, PFNMEDIANOTIFY pfnNotify, void * pUser); int (*SetMediaParm)(IMedia * po, int nParamID, int32 p1, int32 p2); int (*GetMediaParm)(IMedia * po, int nParamID, int32 * pP1, int32 * pP2); int (*Play)(IMedia * po); int (*Record)(IMedia * po); int (*Stop)(IMedia * po); int (*Seek)(IMedia * po, AEEMediaSeek eSeek, int32 lSeekValue); int (*Pause)(IMedia * po); int (*Resume)(IMedia * po); int (*GetTotalTime)(IMedia * po); int (*GetState)(IMedia * po, boolean * pbStateChanging);
};














































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 1680 "d:\\brew\\inc\\AEEMedia.h"

#line 11 "d:\\brew\\inc\\JDefine.h"
#line 1 "d:\\brew\\inc\\AEETAPI.h"















#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 17 "d:\\brew\\inc\\AEETAPI.h"

typedef struct _ITAPI         ITAPI;
























typedef byte  AEEPhoneState;

typedef struct
{
   uint16      nChars;
   char        szText[1];
} AEESMSTextMsg;
































enum {
   SMS_TELESERVICE_CMT_91             = 4096,  
   SMS_TELESERVICE_CPT_95             = 4097,  
   SMS_TELESERVICE_CMT_95             = 4098,  
   SMS_TELESERVICE_VMN_95             = 4099,  
   SMS_TELESERVICE_IS91_PAGE          = 0,
   SMS_TELESERVICE_IS91_VOICE_MAIL    = 1,
   SMS_TELESERVICE_IS91_SHORT_MESSAGE = 2,
   SMS_TELESERVICE_MWI                = 3, 


   SMS_TELESERVICE_WAP                = 4100,  
   SMS_TELESERVICE_WEMT               = 4101,  
   SMS_TELESERVICE_SCPT               = 4102,  
   SMS_TELESERVICE_CATPT              = 4103,  
   SMS_TELESERVICE_GSM1x_01           = 4104,  
   SMS_TELESERVICE_GSM1x_02           = 4105,  
   SMS_TELESERVICE_GSM1x_03           = 4106,  
   SMS_TELESERVICE_GSM1x_04           = 4107,  
   SMS_TELESERVICE_GSM1x_05           = 4108,  
   SMS_TELESERVICE_GSM1x_06           = 4109,  
   SMS_TELESERVICE_GSM1x_07           = 4110,  
   SMS_TELESERVICE_GSM1x_08           = 4111,  
   SMS_TELESERVICE_GSM1x_09           = 4112,  
   SMS_TELESERVICE_GSM1x_10           = 4113,  
   SMS_TELESERVICE_BROADCAST          = 0x0005,

   SMS_TELESERVICE_UNKNOWN            = 0xFFFF
};



typedef uint16 AEETeleservice;
#line 116 "d:\\brew\\inc\\AEETAPI.h"

enum {
   SMS_ENCODING_OCTET,
   SMS_ENCODING_IS91EP,
   SMS_ENCODING_ASCII,
   SMS_ENCODING_IA5,
   SMS_ENCODING_UNICODE,   
   SMS_ENCODING_SHIFT_JIS, 
   SMS_ENCODING_KOREAN,    
   SMS_ENCODING_LATIN_HEBREW,
   SMS_ENCODING_LATIN,     
   SMS_ENCODING_GSM_7_BIT_DEFAULT
};



typedef int8 AEESMSEncoding;
#line 134 "d:\\brew\\inc\\AEETAPI.h"

enum {
   SMS_IS91EP_VOICE_MAIL         = 0x82,
   SMS_IS91EP_SHORT_MESSAGE_FULL = 0x83,
   SMS_IS91EP_CLI_ORDER          = 0x84,
   SMS_IS91EP_SHORT_MESSAGE      = 0x85
};



typedef uint8 AEESMSIS91EP;
#line 146 "d:\\brew\\inc\\AEETAPI.h"

enum {
   SMS_PRIORITY_NORMAL,
   SMS_PRIORITY_INTERACTIVE,
   SMS_PRIORITY_URGENT,
   SMS_PRIORITY_EMERGENCY
};



typedef uint8 AEESMSPriority;
#line 158 "d:\\brew\\inc\\AEETAPI.h"

enum {
   SMS_PRIVACY_NORMAL,
   SMS_PRIVACY_RESTRICTED,
   SMS_PRIVACY_CONFIDENTIAL,
   SMS_PRIVACY_SECRET
};



typedef int8 AEESMSPrivacy;
#line 170 "d:\\brew\\inc\\AEETAPI.h"

typedef struct
{
   byte              year;        
   byte              month;       
   byte              day;         
   byte              hour;        
   byte              minute;      
   byte              second;      
} AEESMSTimestamp;

typedef struct 
{
   uint16            teleservice;
   AEESMSTimestamp   ts;
   AEESMSPriority    priority;
   AEESMSPrivacy     privacy;
   int               nMessages;     
   boolean           bAlert;
   uint32            dwLang;

   

   byte              nDigits;
   char              szDigits[32 + 1];

   

   AEESMSEncoding    encoding;
   AEESMSIS91EP      is91;
   byte              nLen;
   byte              data[229];
} AEESMSMsg;


typedef struct
{
   char           szMobileID[15 + 1];   
   AEEPhoneState  state;                           
   flg            bData:1;                         
   flg            bDigital:1;                      
   flg            bRoaming:1;                      
   flg            bCallEnded:1;                    
   flg            bE911CallbackMode:1;             
   flg            bRestricted:1;                   
   flg            bRegistered:1;                   
   flg            bDormancy:1;                     
} TAPIStatus;



typedef void (*PFNSMSSTATUS)(void * pUser, int status);

struct _ITAPI { struct ITAPIVtbl *pvt;};typedef struct ITAPIVtbl ITAPIVtbl;struct ITAPIVtbl
{
   uint32 (*AddRef) (ITAPI*); uint32 (*Release) (ITAPI*);
   void (*SetMask)(ITAPI *, const uint32 * dwMasks);

   int               (*GetStatus)(ITAPI * po, TAPIStatus * ps);
   int               (*MakeVoiceCall)(ITAPI * po, const char * pszNumber, AEECLSID clsReturn);
   AEESMSTextMsg *   (*ExtractSMSText)(ITAPI * po, AEESMSMsg * pMsg);
   boolean           (*GetCallerID)(ITAPI * po, AECHAR * psz, int nSize);
   int               (*OnCallStatus)(ITAPI * po,PFNNOTIFY pfn,void * pUser,uint32 dwDelay,uint16 wFlags);
   boolean           (*IsVoiceCall)(ITAPI * po);
   boolean           (*IsDataSupported)(ITAPI * po);
   int               (*SendSMS)(ITAPI *po, const char * pszDst, const char * pszMsg, AEECLSID clsDst,PFNSMSSTATUS pfn, void *pUser);
};










































































































































































































































































































































































































































































































































































































































































































































































































































































#line 1080 "d:\\brew\\inc\\AEETAPI.h"


#line 12 "d:\\brew\\inc\\JDefine.h"

#line 1 "d:\\brew\\inc\\AEENet.h"















































#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 49 "d:\\brew\\inc\\AEENet.h"
#line 1 "d:\\brew\\inc\\AEEShell.h"
































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 50 "d:\\brew\\inc\\AEENet.h"
#line 1 "d:\\brew\\inc\\AEEError.h"























































































































































































































































































































































#line 51 "d:\\brew\\inc\\AEENet.h"




typedef struct _INetMgr       INetMgr;
typedef struct _ISocket       ISocket;



enum {
   NET_INVALID_STATE,
   NET_PPP_OPENING,
   NET_PPP_OPEN,
   NET_PPP_CLOSING,
   NET_PPP_CLOSED,
   NET_PPP_SLEEPING,
   NET_PPP_ASLEEP,
   NET_PPP_WAKING
};



typedef int8 NetState;
#line 75 "d:\\brew\\inc\\AEENet.h"



enum {
   AEE_SOCK_STREAM=0,   
   AEE_SOCK_DGRAM       
};



typedef int8 NetSocket;
#line 87 "d:\\brew\\inc\\AEENet.h"






















typedef uint32 INAddr;
typedef uint16 INPort;
typedef struct
{
   INAddr addr;
   INPort port;
} INSockAddr;












typedef struct
{
  byte      *pbBuffer;   
  uint16    wLen;   
} SockIOBlock;


























#line 160 "d:\\brew\\inc\\AEENet.h"









typedef struct
{
   

   uint32   dwOpenTime;       
   uint32   dwActiveTime;     
                              
   uint32   dwBytes;          
   uint32   dwRate;           
                              

   

   uint32   dwTotalOpenTime;  
   uint32   dwTotalActiveTime;
   uint32   dwTotalBytes;     
   uint32   dwTotalRate;      
} AEENetStats;








typedef struct
{
   int      nResult;
   INAddr   addrs[4];
} AEEDNSResult;






typedef void (*PFNSOCKETCLOSE)(void *pvCxt, ISocket *pSocket);

typedef struct ISocketCloser
{
   PFNSOCKETCLOSE pfn;
   void *         pv;
} ISocketCloser;

typedef struct ISocketQI
{
   AEECLSID  clsId;
   void     *pif;
} ISocketQI;

typedef struct ISocketDbgMark
{
   const char *cpszFile;
   int         nLine;
} ISocketDbgMark;
























enum {
   NE_NONE,
   NE_PPP,           
   NE_SO_OPENING,    
   NE_SO_CONNECTING, 
   NE_SO_CONNECTED,  
   NE_SO_CLOSING,    
   NE_SO_CLOSED,     
   NE_IP             
};



typedef int8 NetMgrEvent;
#line 264 "d:\\brew\\inc\\AEENet.h"

typedef void (*PFNNETMGREVENT)(void * pUser, NetMgrEvent evt, uint32 dwData);




typedef struct AEERLP3Cfg
{
   byte ucFwdNakRounds;              
   byte aucFwdNaksPerRound[3];       
   byte ucRevNakRounds;              
   byte aucRevNaksPerRound[3];       
} AEERLP3Cfg;




typedef struct AEEUDPUrgent
{
   boolean bUrgentSupported;
   uint16  nUrgentLimit;
} AEEUDPUrgent;























struct _INetMgr { struct INetMgrVtbl *pvt;};typedef struct INetMgrVtbl INetMgrVtbl;struct INetMgrVtbl
{
   uint32 (*AddRef) (INetMgr*); uint32 (*Release) (INetMgr*);
   void (*SetMask)(INetMgr *, const uint32 * dwMasks);

   void       (*GetHostByName)(INetMgr * pNetMgr, AEEDNSResult *pres, const char * psz, AEECallback *pcb);
   int        (*GetLastError)(INetMgr * pINetMgr);
   ISocket *  (*OpenSocket)(INetMgr * pINetMgr,NetSocket sType);
   NetState   (*NetStatus)(INetMgr * pINetMgr,AEENetStats * ps);
   INAddr     (*GetMyIPAddr)(INetMgr * pINetMgr);
   uint16     (*SetLinger)(INetMgr * pINetMgr,uint16 wSecs);
   int        (*OnEvent)(INetMgr * po, PFNNETMGREVENT pfn, void *pUser, boolean bRegister);
   int        (*SetOpt)(INetMgr *po, int nOptName, void *pOptVal, int nOptSize);
   int        (*GetOpt)(INetMgr *po, int nOptName, void *pOptVal, int *pnOptSize);
};



















typedef void (*PFNCONNECTCB)(void * pUser,int nError);

struct _ISocket { struct ISocketVtbl *pvt;};typedef struct ISocketVtbl ISocketVtbl;struct ISocketVtbl
{
   uint32 (*AddRef) (ISocket*); uint32 (*Release) (ISocket*);
   void (*Readable)(ISocket * po, PFNNOTIFY pfn, void * pUser); int32 (*Read)(ISocket * po, void * pDest, uint32 nWant); void (*Cancel)(ISocket * po, PFNNOTIFY pfn, void * pUser);

   int         (*GetPeerName)(ISocket * pISocket, INAddr * pAddr, INPort * pwPort);
   int         (*GetLastError)(ISocket * pISocket);
   int         (*Connect)(ISocket * po, INAddr a, INPort wPort, PFNCONNECTCB pfn, void * pUser);
   int         (*Bind)(ISocket * pISocket, INAddr a, INPort wPort);
   int32       (*Write)(ISocket * pISocket,  byte * pBuffer, uint32 wBytes);
   int32       (*WriteV)(ISocket * pISocket, SockIOBlock iov[], uint16 wIovCount);
   int32       (*ReadV)(ISocket * pISocket, SockIOBlock iov[], uint16 nIovCount);
   int32       (*SendTo)(ISocket * pISocket,  byte * pBuff,uint16 dwBytes,uint16 wflags,INAddr a, uint16 wPort);
   int32       (*RecvFrom)(ISocket * pISocket,  byte *pbuffer, uint16 dwbytes, uint16 wflags,INAddr * pa, INPort * pwPort);
   void        (*Writeable)(ISocket * pISocket, PFNNOTIFY pfn, void * pUser);
   int         (*IOCtl)(ISocket * pISocket, int nOption, uint32 dwVal);
};
























__inline int ISOCKET_Realize(ISocket *me)
{
   return ((ISocket*)me)->pvt->IOCtl(me,0x1003,0);
}






__inline int ISOCKET_Listen(ISocket *me, int nBacklog)
{
   return ((ISocket*)me)->pvt->IOCtl(me,0x100B,(uint32)nBacklog);
}
__inline int ISOCKET_Accept(ISocket *me, ISocket** pps)
{
   return ((ISocket*)me)->pvt->IOCtl(me,0x100C,(uint32)pps);
}
__inline int ISOCKET_Shutdown(ISocket *me, int nHow)
{
   return ((ISocket*)me)->pvt->IOCtl(me,0x100D,(uint32)nHow);
}
__inline int ISOCKET_GetSockName(ISocket *me, INAddr *pAddr, INPort *pPort)
{
   INSockAddr sa;
   int ret;

   ret = ((ISocket*)me)->pvt->IOCtl(me,0x100E,(uint32)&sa);
   if ((INAddr*)0 != pAddr) {
      *pAddr = sa.addr;
   }
   if ((INPort*)0 != pPort) {
      *pPort = sa.port;
   }
   return ret;
}
__inline int ISOCKET_Close(ISocket *me)
{
   return ((ISocket*)me)->pvt->IOCtl(me,0x100F,0);
}































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 2442 "d:\\brew\\inc\\AEENet.h"

#line 14 "d:\\brew\\inc\\JDefine.h"
#line 1 "d:\\brew\\inc\\AEEWeb.h"




















#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 22 "d:\\brew\\inc\\AEEWeb.h"
#line 1 "d:\\brew\\inc\\AEESource.h"



















#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 21 "d:\\brew\\inc\\AEESource.h"
#line 1 "d:\\brew\\inc\\AEENet.h"










































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 22 "d:\\brew\\inc\\AEESource.h"































typedef struct ISource ISource;
typedef struct ISourceVtbl ISourceVtbl; struct ISourceVtbl {
   uint32 (*AddRef) (ISource*); uint32 (*Release) (ISource*); int (*QueryInterface)(ISource *, AEECLSID, void **); int32 (*Read) (ISource *po, char *pcBuf, int32 cbBuf); void (*Readable)(ISource *po, AEECallback *pcb);
};

















































typedef struct IPeek IPeek;
typedef struct IPeekVtbl IPeekVtbl; struct IPeekVtbl {
   uint32 (*AddRef) (IPeek*); uint32 (*Release) (IPeek*); int (*QueryInterface)(IPeek *, AEECLSID, void **); int32 (*Read) (IPeek *po, char *pcBuf, int32 cbBuf); void (*Readable)(IPeek *po, AEECallback *pcb); char *(*Peek) (IPeek *po, int32 cbWanted, int32 *pcbAvailable, int32 *pnCode); void (*Peekable) (IPeek *po, AEECallback *pcb); void (*Advance) (IPeek *po, int32 cb);
};




























































typedef struct GetLine {
   char    *psz;        
   int32    nLen;       

   boolean  bLeftover;  
   boolean  bTruncated; 
} GetLine;











typedef struct IGetLine IGetLine;
typedef struct IGetLineVtbl IGetLineVtbl; struct IGetLineVtbl {
   uint32 (*AddRef) (IGetLine*); uint32 (*Release) (IGetLine*); int (*QueryInterface)(IGetLine *, AEECLSID, void **); int32 (*Read) (IGetLine *po, char *pcBuf, int32 cbBuf); void (*Readable)(IGetLine *po, AEECallback *pcb); char *(*Peek) (IGetLine *po, int32 cbWanted, int32 *pcbAvailable, int32 *pnCode); void (*Peekable) (IGetLine *po, AEECallback *pcb); void (*Advance) (IGetLine *po, int32 cb); int32 (*GetLine) (IGetLine *po, GetLine *pgl, int32 nTypeEOL); void (*UngetLine)(IGetLine *po, int32 nLenUnused);
};




















typedef struct ISourceUtil ISourceUtil;
typedef struct ISourceUtilVtbl ISourceUtilVtbl; struct ISourceUtilVtbl {
   uint32 (*AddRef) (ISourceUtil*); uint32 (*Release) (ISourceUtil*); int (*QueryInterface)(ISourceUtil *, AEECLSID, void **);

   int32 (*GetLineFromSource)(ISourceUtil *po, ISource *pis, 
                              int32 nBufSize, IGetLine **ppigl);
   int32 (*SourceFromSocket)(ISourceUtil *po, ISocket *ps, ISource **ppis);
   int32 (*SourceFromMemory)(ISourceUtil *po, const void *pBuf, int32 nBufLen, 
                             PFNNOTIFY pUserFreeFn, void *pUserFreeData, 
                             ISource **ppis);
   int32 (*SourceFromAStream)(ISourceUtil *po, IAStream *pias, ISource **ppis);
   int32 (*AStreamFromSource)(ISourceUtil *po, ISource *pis, IAStream **ppias);
   int32 (*PeekFromMemory)   (ISourceUtil *po, const void *pBuf, int32 nBufLen, 
                              PFNNOTIFY pUserFreeFn, void *pUserFreeData, 
                              IPeek **ppip);
   int32 (*PeekFromSource)   (ISourceUtil *po, ISource *pis, 
                              int32 nBufSize, IPeek **ppip);
};














































































































































































































































































































































































































































































































































































































































































#line 885 "d:\\brew\\inc\\AEESource.h"

#line 23 "d:\\brew\\inc\\AEEWeb.h"
#line 1 "d:\\brew\\inc\\AEEError.h"























































































































































































































































































































































#line 24 "d:\\brew\\inc\\AEEWeb.h"
#line 1 "d:\\brew\\inc\\AEEWebOpts.h"




















#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 22 "d:\\brew\\inc\\AEEWebOpts.h"
#line 1 "d:\\brew\\inc\\AEEError.h"























































































































































































































































































































































#line 23 "d:\\brew\\inc\\AEEWebOpts.h"













typedef struct WebOpt
{
   int32  nId;   
   void  *pVal;  
} WebOpt;































































































































typedef struct IWebOpts IWebOpts;
typedef struct IWebOptsVtbl IWebOptsVtbl; struct IWebOptsVtbl {
   uint32 (*AddRef) (IWebOpts*); uint32 (*Release) (IWebOpts*); int (*QueryInterface)(IWebOpts *, AEECLSID, void **); int (*AddOpt)(IWebOpts *po, WebOpt *apwoz); int (*RemoveOpt)(IWebOpts *po, int32 nOptId, int32 nIndex); int (*GetOpt)(IWebOpts *po, int32 nOptId, int32 nIndex, WebOpt *pwo);
};























































































































































































































































#line 420 "d:\\brew\\inc\\AEEWebOpts.h"
#line 25 "d:\\brew\\inc\\AEEWeb.h"













enum {
   WEBS_STARTING = 0,
   WEBS_CANCELLED,
   WEBS_GETHOSTBYNAME,
   WEBS_CONNECT,
   WEBS_SENDREQUEST,
   WEBS_READRESPONSE,
   WEBS_GOTREDIRECT,
   WEBS_CACHEHIT,
   WEBS_PROGRESS
};



typedef int8 WebStatus;
#line 54 "d:\\brew\\inc\\AEEWeb.h"














typedef void (*PFNWEBSTATUS)(void *pNotifyData, WebStatus ws, void *pData);
















typedef void (*PFNWEBHEADER)(void *pNotifyData, const char *pszName, 
                             GetLine *pglVal);


















































































































































































typedef struct WebRespInfo
{
   int         nCode;           

   ISource    *pisMessage;      

   
   
   long        lContentLength;  
   const char *cpszContentType; 
   const char *cpszCharset;     

   
   int32       tExpires;        
   int32       tModified;       
} WebRespInfo;





























typedef struct IWebResp IWebResp;
typedef struct IWebRespVtbl IWebRespVtbl; struct IWebRespVtbl {
   uint32 (*AddRef) (IWebResp*); uint32 (*Release) (IWebResp*); int (*QueryInterface)(IWebResp *, AEECLSID, void **); int (*AddOpt)(IWebResp *po, WebOpt *apwoz); int (*RemoveOpt)(IWebResp *po, int32 nOptId, int32 nIndex); int (*GetOpt)(IWebResp *po, int32 nOptId, int32 nIndex, WebOpt *pwo);
   WebRespInfo *(*GetInfo)(IWebResp *);
};


















typedef struct IWeb IWeb;
typedef struct IWebVtbl IWebVtbl; struct IWebVtbl {
   uint32 (*AddRef) (IWeb*); uint32 (*Release) (IWeb*); int (*QueryInterface)(IWeb *, AEECLSID, void **); int (*AddOpt)(IWeb *po, WebOpt *apwoz); int (*RemoveOpt)(IWeb *po, int32 nOptId, int32 nIndex); int (*GetOpt)(IWeb *po, int32 nOptId, int32 nIndex, WebOpt *pwo);

   void  (*GetResponse) (IWeb *po, IWebResp **ppiwresp, 
                         AEECallback *pcb, const char *cpszUrl, ...);
   
   void  (*GetResponseV)(IWeb *po, IWebResp **ppiwresp, 
                         AEECallback *pcb, const char *cpszUrl, 
                         WebOpt *awozList);

};

































































typedef struct UrlParts { 
   const char *cpcSchm; 
   const char *cpcAuth; 
   const char *cpcUser; 
   const char *cpcPass; 
   const char *cpcHost; 
   const char *cpcPort; 
   const char *cpcPath; 
   const char *cpcSrch; 
   const char *cpcName; 
   const char *cpcEnd;  
} UrlParts;

































typedef struct WebFormField
{
   char *pcName;
   char *pcValue;

} WebFormField;














typedef struct IWebUtil IWebUtil;
typedef struct IWebUtilVtbl IWebUtilVtbl; struct IWebUtilVtbl {
   uint32 (*AddRef) (IWebUtil*); uint32 (*Release) (IWebUtil*); int (*QueryInterface)(IWebUtil *, AEECLSID, void **);

   int    (*ParseUrl)      (IWebUtil *po, const char *cpszUrl, 
                            UrlParts *pwup);
   int    (*MakeUrl)       (IWebUtil *po, const char *cpszBaseUrl, 
                            const char *cpszRelativeUrl, 
                            char *pResult, int nResultLen);
   char  *(*UrlEncode)     (IWebUtil *po, const char *cpcIn, int *pnInLen,
                            char *pcOut, int *pnOutLen);
   char  *(*UrlDecode)     (IWebUtil *po, const char *cpcIn, int *pnInLen,
                            char *pcOut, int *pnOutLen);
   char  *(*EncodeBase64)  (IWebUtil *po, const char *cpcIn, int nInLen, 
                            char *pszOut);
   int    (*DecodeBase64)  (IWebUtil *po, const char *cpszIn, char *pcOut);
   int    (*ParseFormFields)(IWebUtil *po, char **ppszIn, 
                             WebFormField *awff, int nMaxFields,
                             uint32 uFlags);
};






















typedef struct IWebReq IWebReq;
typedef struct IWebReqVtbl IWebReqVtbl; struct IWebReqVtbl {
   uint32 (*AddRef) (IWebReq*); uint32 (*Release) (IWebReq*); int (*QueryInterface)(IWebReq *, AEECLSID, void **); int (*AddOpt)(IWebReq *po, WebOpt *apwoz); int (*RemoveOpt)(IWebReq *po, int32 nOptId, int32 nIndex); int (*GetOpt)(IWebReq *po, int32 nOptId, int32 nIndex, WebOpt *pwo);
   const char *(*GetUrl)(IWebReq *po);
};

















typedef struct IWebEng IWebEng;
typedef struct IWebEngVtbl IWebEngVtbl; struct IWebEngVtbl {
   uint32 (*AddRef) (IWebEng*); uint32 (*Release) (IWebEng*); int (*QueryInterface)(IWebEng *, AEECLSID, void **);
   int (*Transaction)(IWebEng *piwe, IWeb *piw, IWebReq *piwreq, 
                      AEECallback *pcb, IWebResp **ppiwresp);
};



















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 1845 "d:\\brew\\inc\\AEEWeb.h"

#line 15 "d:\\brew\\inc\\JDefine.h"




















	
	
	
	
	
	
#line 42 "d:\\brew\\inc\\JDefine.h"
















#line 1 "d:\\brew\\inc\\APPLE_Sdk_Ext.h"













#line 1 "d:\\brew\\inc\\AEE.h"






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 15 "d:\\brew\\inc\\APPLE_Sdk_Ext.h"
#line 1 "d:\\brew\\inc\\AEEComdef.h"
















































































































































































































































































































#line 306 "d:\\brew\\inc\\AEEComdef.h"
#line 16 "d:\\brew\\inc\\APPLE_Sdk_Ext.h"
#line 1 "d:\\brew\\inc\\AEEShell.h"
































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 17 "d:\\brew\\inc\\APPLE_Sdk_Ext.h"
#line 1 "d:\\brew\\inc\\AEEImage.h"























































































































































































































































































































































































































































































































































































































#line 18 "d:\\brew\\inc\\APPLE_Sdk_Ext.h"
#line 1 "d:\\brew\\inc\\AEEMimeTypes.h"







































































#line 73 "d:\\brew\\inc\\AEEMimeTypes.h"
#line 19 "d:\\brew\\inc\\APPLE_Sdk_Ext.h"
#line 1 "d:\\brew\\inc\\AEEFile.h"























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 20 "d:\\brew\\inc\\APPLE_Sdk_Ext.h"
#line 1 "d:\\brew\\inc\\AEEBitmap.h"































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 21 "d:\\brew\\inc\\APPLE_Sdk_Ext.h"
#line 1 "d:\\brew\\inc\\AEENet.h"










































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 22 "d:\\brew\\inc\\APPLE_Sdk_Ext.h"


extern "C" {
#line 26 "d:\\brew\\inc\\APPLE_Sdk_Ext.h"











































typedef struct _APPLE_ClsCBEvt						
{
	uint32	ulClsID;
	uint32	ulHandlerID;		
	uint32	ulUserData;			
} APPLE_ClsCBEvt;
typedef void (*PFClsCb)(void* pObj, void* pData);	
	












													


































typedef struct _TCM_BLOCK
{
	void *pAddr;
	uint32 size;
}TCM_BLOCK;

typedef int (*PFNUNZIPCB)(void * dest,unsigned int iLen, void* pUser);

typedef struct _APP_gprs_service_data_account_node
{
	uint32 result;
    uint8 DataAccountName[60];      
    uint8 APN[60];    
    uint8 prx_ip[4];
    uint16 prx_port;
	uint8 id;
} APP_GPRSDataAccountNode;

typedef enum 
{
    APPLE_CT,   
    APPLE_CU,   

    APPLE_CU_ONLY,
    APPLE_CT_ONLY,

    APPLE_CT_CU,

    APPLE_NETWORK_UNKNOWN
}APPLE_NETWORK_ENUM;

enum APPLE_INPUT_TYPES
{
    APPLE_TM_ANY=0,
    APPLE_TM_NUMERIC=1,
    APPLE_TM_DECIMAL=2,

    APPLE_TP_PASSWORD=0x100,
};

enum TEXTCTL_ACTION_CODES
{
	TEXTCTL_ACTION_DONE=0x00,
	TEXTCTL_ACTION_CANCEL,
	TEXTCTL_ACTION_LEAVE
};

enum SYSTEM_MEM_TYPE
{
	MEM_WIN32=0x00,
	MEM_APP_AP,
	MEM_APP_SCREEN,
	MEM_APP_CAMERA,
	MEM_MEDIA_EXT,
	MEM_MEDIA_INT,
	MEM_WAP,
	MEM_DEBUG
};

typedef struct _APPLE_MediaExt
{
	void (*F1)( uint16 *buffer, uint32 buf_len );
	void (*F2)( uint16 **buffer, uint32 *buf_len );
	void (*F3)( uint32 len );
	void (*F4)( uint16 **buffer, uint32 *buf_len );
	void (*F5)( uint32 len );
	int32 (*F6)( void );
	int32 (*F7)( void );
}APPLE_MediaExt;


typedef struct _APPLE_FileExt
{
	int (*FmgrCreate)(void** ppObj);
	void (*FmgrRelease)(void *aFmgr);
	void* (*FmgrOpenFile)(void *aFmgr,const char * aFilePath,int aOpenMode);
	boolean (*FmgrIsFileExist)(void *aFmgr,const char *aFilePath);
	int (*FileGetFileSZ)(void *aFile,uint32 *aSize);
	boolean (*FileSetCache)(void *aFile,uint32 aSize);
	uint32 (*FileRead)(void *aFile,void *aBuf,uint32 aLen);
	void (*FileRelease)(void *aFile);
	uint32 (*FileSeek)(void *aFile, int aSeekType,int aMoveDistance);	
}APPLE_FileExt;




typedef struct _APPLE_HelperExt
{
	uint32 (*Heap_GetLeftSize)(void);
	void * (*Ctrl_Malloc)( uint32 dwBytes );
	void   (*Ctrl_Free)( void * pBuff );

	void* (*F206)(uint32 nSize);
	void  (*F207)(void* pointer);
	void* (*F208)(uint32 *size);
	void* (*F209)(uint32 *size);
	void* (*F210)(uint32 nSize);
	void  (*F211)(void* pointer);
	uint32 (*F212)(void);


	int (*F215)(void);
	int (*F216)(void);
	int (*F217)(void);

	int (*F219)(void);
	int (*F220)(void);
	int (*F221)(void);

	void* (*Get_INT_SwitchStackToRunFunc)(void);
	void* (*F224)(void);
	void (*F225)(void);
	int (*F226)(void* fv , void *);
	int (*F227)(void);
	int (*OEM_mdi_audio_play_string)(void *audio_data,uint32 len, uint8 fmt);
	int (*OEM_mdi_audio_stop_string)();
	boolean (*INT_SwitchMCUClock)(int nInputClk);

	void * (*FM3_GetAllMem)(uint32 *size);

	void *(*F234)(void);
	void (*F235)(void *handle);
	int (*F236)(void);

	void (*F238)(void *sv);

	uint32 (*F240)(TCM_BLOCK *pTCM, int size);

	void (*testfunc)(void *p);

	void (*GetIMEI)(uint8* pBuf, uint32 nBufSize);

	void (*F246)(void *sv);

	int (*Unzip) (void *dest, unsigned int destLen, void *source, unsigned int sourceLen, PFNUNZIPCB pfnIn, PFNUNZIPCB pfnOut, void *pUser);

	void * (*F250)();
	void (*F251)(void *mdContext, const unsigned char *inBuf, unsigned int inLen);
	int (*F252)(void *mdContext, const char *filename);
	void (*F253)(unsigned char * hash, void *mdContext);

	int (*base64_decode)(char *src, unsigned int srcl, char *dest, unsigned int destl);
	unsigned int (*base64_decode_len)(const char *str, unsigned int len);
	unsigned short (*find_base64_boundary)(char *ptr, int len);
	int (*base64_encode)(char *src, unsigned int srcl, char *dest, unsigned int destl);
	unsigned int (*base64_encode_len)(unsigned int len);

	uint32 (*OEMOS_GetKeyState)(uint32 *r1,uint32 *r2,uint32 *r3);

	uint32 (*GPRSDataAccountNode_GetSize)();
	uint32 (*GPRSDataAccountNode_GetNode)(uint32 index, APP_GPRSDataAccountNode *pNode);

	void*  (*F266)();
	void (*get_nitz_nw_name)(int *nw);
	int (*F268)();
	int (*F269)();

	APPLE_MediaExt MediaExtAPI;

	int (*F284)(void);
	

	int (*F287)(char* url);

	void (*dbyuv)(void *p);

	int (*DeskTop_GetMaxAppId)(void);
	int (*DeskTop_SetAppId)(int id, int small_icon_res_id, int big_icon_res_id, void * entry_func);
	int (*DeskTop_GetAppIdInfo)(int id, int* small_icon_res_id, int* big_icon_res_id, void ** entry_func);
	int (*DeskTop_SetBkColor)(unsigned char r, unsigned char g, unsigned char b);
	int (*DeskTop_GetBkColor)(unsigned char *r, unsigned char *g, unsigned char *b);
	void (*DeskTop_SetYPos)(unsigned int start_y, unsigned int end_y);
	void (*DeskTop_GetYPos)(unsigned int* start_y, unsigned int* end_y);
	int (*GetLangId)(void);
	void* (*GetAppData)(int);












	void* (*TextCtl_Create)(char* pTitle,char * pTextBuffer,int nTextMaxSize,int nFlags,int iLeaveNotify,void* callback,void *pUser);
	void (*TextCtl_Destroy)(void *pTextCtl);
	int(*TextCtl_Show)(void *pTextCtl);
	int (*TextCtl_Close)(void *pTextCtl);

	void *(*GetMemByType)(int nId, uint32 size);
	char* (*GetText)(unsigned int appid, unsigned int id);

	void (*APP_mmi_idle_key_event_backlight_check)();

	APPLE_FileExt FileExtAPI;
	void (*CleanCache)(void);
	char* (*get_testdata)(int type);
	void (*DLoadApp)(uint32 iAppid, uint32 iCurrVer);

	void (*Motion_Effect_Switch)(uint32 enable);

	int (*SXCMMBModuleInit)(void*  pfnCb, unsigned char * *bufArray, int  arraySize,  int bufSize);
	int (*SXCMMBModuleUnInit)(void);
	void (*SXCMMBFreeMediaBuffer)(void *buffer);		
	int (*TimerSet)(unsigned int dwMSecs, unsigned int aCb,unsigned int aUserData);
	int (*TimerCancel)(unsigned int aCb,unsigned int aUserData);	

	void (*apple_select_network_sim)(int sim);
	int  (*apple_sys_get_sim_network)(unsigned int *pSim1,unsigned int *pSim2);	

	void (*AppleEnableLcdUpdate)(void);
	void (*AppleDisableLcdUpdate)(void);

}APPLE_HelperExt;








typedef enum
{
	APPLE_APP_TYPE_NA = 1,
	APPLE_APP_TYPE_AS
}APPLE_AppType;
#line 356 "d:\\brew\\inc\\APPLE_Sdk_Ext.h"

typedef enum
{
	APPLE_SIGN_NULL = 0,
	APPLE_SIGN_TEST ,
	APPLE_SIGN_FORMAL
}APPLE_SignType;

typedef void (*PFREDRAW)(void * );



typedef struct _APPLE_AppInfo
{
	APPLE_AppType	eAppType;
	AEECLSID		iAppID;			
	char*			pAppDir;
	char*			pBinPath;		
	char*			pSigPath;		
	uint32			iScrWidth;
	uint32			iScrHeight;
	uint32			iRight;			
}APPLE_AppInfo;
#line 380 "d:\\brew\\inc\\APPLE_Sdk_Ext.h"

typedef struct _APPLE_AppInfoEx
{
	APPLE_AppInfo	info;
	boolean			bIsRun;	
	uint32			iMem;
	APPLE_SignType	eSign;
	uint32			iTs;		
}APPLE_AppInfoEx;

typedef struct _APPLE_AdlInfo
{
	char*			pSigPath;		
	char*			pBinPath;		
	uint32			iClsCnt;
	AEECLSID*		pClsID;			
}APPLE_AdlInfo;
typedef struct _IShellEx IShellEx;
struct _IShellEx { struct IShellExVtbl *pvt;};typedef struct IShellExVtbl IShellExVtbl;struct IShellExVtbl
{
	IShellVtbl vt;

	int32 (*GetAppInfoEx)(IShell * po, AEECLSID iAppId,APPLE_AppInfoEx * pi);
	int32 (*GetAppInfo)(IShell * po, APPLE_AppInfo * pai);
	int32 (*AddAppInfo)(IShell * po, APPLE_AppInfo * pai, char* pAifPath);
	int32 (*RemoveAppInfo)(IShell * po, AEECLSID iAppId);

	int32 (*RegDeskTop)(IShell *po,PFREDRAW pfRedraw,void* pUser);
	void (*UnRegDeskTop)(IShell *po);
	int	(*TransAppDir)(IShell* pIShell, const char *szOrigin, char* szFileName);
	int (*ShowListBox)(IShell* pIShell, uint32 number_of_items,uint8 **list_of_items,uint32 highlighted_item,void* callback);
	int(*UpdateBL)(IShell* po, unsigned int *data, unsigned int nSize);
	int (*VerifyApp)(IShell* pIShell, AEECLSID iAppID,char* pSigData, int32 iSigSize);
	IBitmap * (*LoadBitmapFromSysResource)(IShell* po, int id);

	int (*ResetEnv)(IShell * po);
	char* (*LoadStringFromSysResource)(IShell* po, AEECLSID appid, uint32 id);
};





























typedef struct _IImageEx IImageEx;
struct _IImageEx { struct IImageExVtbl *pvt;};typedef struct IImageExVtbl IImageExVtbl;struct IImageExVtbl
{
	IImageVtbl vt;
	int (*SetMem)(IImage *po, unsigned char* imageptr, int imagesize, boolean bAutoDecode);
};


typedef struct _IDisplayEx IDisplayEx;
struct _IDisplayEx { struct IDisplayExVtbl *pvt;};typedef struct IDisplayExVtbl IDisplayExVtbl;struct IDisplayExVtbl
{
	IDisplayVtbl vt;
	int (*CreateDesktopBmp)(IDisplay *po, IBitmap **ppIDIB);
	int (*AppInvalidateRect)(IDisplay *po, AEERect *r);
	int (*LCD_Update)(IDisplay *po, uint8 *buf_ptr, int cx,int cy, int xSrc, int ySrc, int cxSrc, int cySrc, int xDst, int yDst);
	int (*SrceenRotate)(IDisplay *po, uint8 rotate_value);
	int (*GetScreenRotate)(IDisplay *po);
	int (*DrawLineEx)(IDisplay *po, int x1, int y1, int x2, int y2, RGBVAL rgb);
	int (*FastBlitEnable)(IDisplay *po, unsigned char *addr, uint32 nEnable);
	int (*ReleaseFontCache)(IDisplay *po);
	int (*SetFontCacheLevel)(IDisplay *po, uint32 iLevel);
	int (*UpdateEx_Fb)(IDisplay * po, int bFflag);
};












typedef struct _IFileEx IFileEx;
struct _IFileEx { struct IFileExVtbl *pvt;};typedef struct IFileExVtbl IFileExVtbl;struct IFileExVtbl
{
	IFileVtbl vt;
	void (*SetBuffer)(IFile *po, uint32 uBufferSize, uint8 *pbBuf);
	uint32 (*GetFileSize)(IFile *po);
};



typedef struct _IMemBitmap IMemBitmap;
struct _IMemBitmap { struct IMemBitmapVtbl *pvt;};typedef struct IMemBitmapVtbl IMemBitmapVtbl;struct IMemBitmapVtbl
{
	uint32 (*AddRef) (IBitmap*); uint32 (*Release) (IBitmap*); int (*QueryInterface)(IBitmap *, AEECLSID, void **); NativeColor (*RGBToNative) (IBitmap *po, RGBVAL rgb); RGBVAL (*NativeToRGB) (IBitmap *po, NativeColor clr); int (*DrawPixel) (IBitmap *po, unsigned x, unsigned y, NativeColor color, AEERasterOp rop); int (*GetPixel) (IBitmap *po, unsigned x, unsigned y, NativeColor *pColor); int (*SetPixels) (IBitmap *po, unsigned cnt, AEEPoint *pPoint, NativeColor color, AEERasterOp rop); int (*DrawHScanline) (IBitmap *po, unsigned y, unsigned xMin, unsigned xMax, NativeColor color, AEERasterOp rop); int (*FillRect) (IBitmap *po, const AEERect *prc, NativeColor color, AEERasterOp rop); int (*BltIn) (IBitmap *po, int xDst, int yDst, int dx, int dy, IBitmap *pSrc, int xSrc, int ySrc, AEERasterOp rop); int (*BltOut) (IBitmap *po, int xDst, int yDst, int dx, int dy, IBitmap *pDst, int xSrc, int ySrc, AEERasterOp rop); int (*GetInfo) (IBitmap *po, AEEBitmapInfo *pinfo, int nSize); int (*CreateCompatibleBitmap) (IBitmap *po, IBitmap **ppIBitmap, uint16 w, uint16 h); int (*SetTransparencyColor) (IBitmap *po, NativeColor color); int (*GetTransparencyColor) (IBitmap *po, NativeColor *pColor);
	int (*BltInEx)(IBitmap *po, int xDst, int yDst, int dx, int dy, IBitmap *pSrc, int xSrc, int ySrc, AEERasterOp rop, int iFrame, uint8 transform_value, uint32 alpha);	
	int (*LoadFromMemory)(IBitmap *po, unsigned char* imageptr, int imagesize, AEECLSID iClsID, boolean bAutoDecode);
	int (*Resize)(IBitmap *po, 
					 uint32 target_width, 
					 uint32 target_height, 
					 uint32 image_clip_x1,
					 uint32 image_clip_x2, 
					 uint32 image_clip_y1,
					 uint32 image_clip_y2);
	int (*DrawImage)(IBitmap * po, uint32 x, uint32 y,uint32 cx, uint32 cy, unsigned char* imageptr, int imagesize, AEECLSID iClsID);
	int (*Desktop_FillRectEx)(IBitmap *po, int x, int y, int cx, int cy, NativeColor c, int alpha);
	int (*LoadFromRom)(IBitmap *po, uint32 id);
	int (*Desktop_BltIn)(IBitmap *po, int xDst, int yDst, int dx, int dy, IBitmap *pSrc, int xSrc, int ySrc, uint32 alpha);
};














enum {
	AEE_RO_MIRROR=0x10,
	AEE_RO_ROTATE90=0x20,
	AEE_RO_ROTATE180=0x40,
	AEE_RO_ROTATE270=0x80
};

enum
{
	AEE_FONT_16x16=0,
	AEE_FONT_12x12,
	AEE_FONT_CUSTOM_TOTAL
};




typedef enum
{
    APP_FMGR_TYPE_ALL = 1,  
    APP_FMGR_TYPE_UNKNOW,
    APP_FMGR_TYPE_FOLDER,
    APP_FMGR_TYPE_FOLDER_DOT,

    
    APP_FMGR_TYPE_BMP,
    APP_FMGR_TYPE_JPG,
    APP_FMGR_TYPE_JPEG,
    APP_FMGR_TYPE_GIF,
    APP_FMGR_TYPE_PNG,
    APP_FMGR_TYPE_EMS,
    APP_FMGR_TYPE_ANM,
    APP_FMGR_TYPE_WBMP,
    APP_FMGR_TYPE_WBM,
    APP_FMGR_TYPE_SVG,
    APP_FMGR_TYPE_M3D,

    
    APP_FMGR_TYPE_IMY,
    APP_FMGR_TYPE_MID,
    APP_FMGR_TYPE_MIDI,
    APP_FMGR_TYPE_WAV,
    APP_FMGR_TYPE_AMR,
    APP_FMGR_TYPE_AAC,
    APP_FMGR_TYPE_DAF,
    APP_FMGR_TYPE_VM,
    APP_FMGR_TYPE_AWB,
    APP_FMGR_TYPE_AIF,
    APP_FMGR_TYPE_AIFF,
    APP_FMGR_TYPE_AIFC,
    APP_FMGR_TYPE_AU,
    APP_FMGR_TYPE_SND,
    APP_FMGR_TYPE_M4A,
    APP_FMGR_TYPE_MMF,
    APP_FMGR_TYPE_WMA,

    
    APP_FMGR_TYPE_3GP,
    APP_FMGR_TYPE_MP4,
    APP_FMGR_TYPE_MPG,
    APP_FMGR_TYPE_AVI,
    APP_FMGR_TYPE_3G2,
    APP_FMGR_TYPE_SDP,
    APP_FMGR_TYPE_RAM,

    
    APP_FMGR_TYPE_CMP,

    
    APP_FMGR_TYPE_JAD,
    APP_FMGR_TYPE_JAR,
    APP_FMGR_TYPE_VCF,
    APP_FMGR_TYPE_VCS,
    APP_FMGR_TYPE_LRC,

    APP_FMGR_TYPE_EBOOK,
    APP_FMGR_TYPE_EBOOK_TXT,
    APP_FMGR_TYPE_EBOOK_PDB,

    APP_FMGR_TYPE_THEME,

    
    APP_FMGR_TYPE_QRV,

    
    APP_FMGR_TYPE_DCF,
    APP_FMGR_TYPE_DM,

    
    APP_FMGR_TYPE_FOTA_FULL,

    
    APP_FMGR_TYPE_COUNT
} APP_fmgr_filter_type_enum;



typedef struct
{
    unsigned int mask[(4*32) / 32];
} APP_fmgr_filter_mask_struct;

typedef APP_fmgr_filter_mask_struct APP_FMGR_FILTER;



















typedef struct _IFileMgrEx IFileMgrEx;
struct _IFileMgrEx { struct IFileMgrExVtbl *pvt;};typedef struct IFileMgrExVtbl IFileMgrExVtbl;struct IFileMgrExVtbl
{
	IFileMgrVtbl vt;
	int (*OpenFileDialog)(IFileMgr *po, uint8 sel_type, APP_FMGR_FILTER filter, char* start_path, void* callback);
	int8 (*GetDrive)(IFileMgr *po, uint32 type);
};






typedef void (*PFNPROFILECB)(void * pUser,APP_GPRSDataAccountNode *pNode);

typedef struct _INetMgrEx INetMgrEx;
struct _INetMgrEx { struct INetMgrExVtbl *pvt;};typedef struct INetMgrExVtbl INetMgrExVtbl;struct INetMgrExVtbl
{
	INetMgrVtbl vt;
	uint32 (*GetProfileSize)(INetMgr *po);
	int (*GetProfile)(INetMgr *po, uint32 index, PFNPROFILECB pfn, void* pUser);
	int (*GetDataAccount)(INetMgr *po, uint32 index, APP_GPRSDataAccountNode *pNode);
	int (*GetNwkAccountID)(INetMgr *po);
	int (*SetNwkAccountID)(INetMgr *po, uint32 nwk_account_id);	
};







typedef struct _AppleFileInfo
{
   char        attrib;
   uint32      dwCreationDate;
   uint32      dwSize;
   char        szName[256];
} AppleFileInfo;




typedef enum
{
	APP_STR_GLOBAL_OPTIONS=0x100,
		APP_STR_GLOBAL_BACK,
		APP_STR_GLOBAL_OPEN,
		APP_STR_GLOBAL_CANCEL,
		APP_STR_GLOBAL_SEARCHING,
		APP_STR_GLOBAL_PLEASE_WAIT,
		APP_STR_GLOBAL_SELECT,
		APP_STR_GLOBAL_EMPTY,
		APP_STR_GLOBAL_QUIT,
}app_global_str_id_enum;



typedef enum
{
	APP_STR_FMGR_TITLE=0x200,
		APP_STR_FMGR_OPEN,
		APP_STR_ID_VDOPLY_STOP,
		APP_STR_ID_VDOPLY_PAUSE,
		APP_STR_ID_VDOPLY_RESUME,
		APP_STR_ID_VDOPLY_PLAY,
		APP_STR_ID_VDOPLY_APP_NAME,
		APP_STR_ID_VDOPLY_NOTIFY_INVALID_VIDEO_FILE,

}app_mediaplayer_str_id_enum;


}
#line 720 "d:\\brew\\inc\\APPLE_Sdk_Ext.h"

#line 722 "d:\\brew\\inc\\APPLE_Sdk_Ext.h"
#line 59 "d:\\brew\\inc\\JDefine.h"
#line 60 "d:\\brew\\inc\\JDefine.h"





#line 66 "d:\\brew\\inc\\JDefine.h"

typedef AECHAR              TCHAR, WCHAR;            
typedef void*               PVOID;
typedef unsigned int        BOOL;
typedef dword               DWORD;
typedef uint16              WPARAM;
typedef uint32              LPARAM;
typedef unsigned short      WORD;
typedef unsigned int        uint;

typedef signed char		    JByte;
typedef signed int          JInt;
typedef signed int          JShort;
typedef signed short        JChar;

























enum{
	IS_READ_SUCCESS = 0,
	IS_READ_ERROR_NULL_DESTPOINTER,
	IS_READ_ERROR_OUT_OF_RANGE,
	IS_READ_ERROR_DESTPOINTER_NOT_NULL,
};

enum{
	OS_WRITE_SUCCESS,
	OS_WRITE_ERROR_NULL_INPUTSTREAM,
	OS_WRITE_ERROR_NULL_DESTPOINTER,
	OS_WRITE_ERROR_OUT_OF_RANGE,
	OS_WRITE_ERROR_NULL_SRC,
	OS_WRITE_ERROR_MALLOC_FAILED
};

typedef struct PlatformInfo 
{
	uint32 app_version;
	uint32 core_version;
	char* szPlatform;
	char* szModel;
	char* szImei;
	char* szPhonenum1;
	char* szPhonenum2;
	char* release_verno;
	char* release_hw_ver;
	char* build_date_time;
	char* smcenter;
	int   nOperator;
	char* szImsi;
}PlatformInfo, *PPlatformInfo; 

typedef struct _s_node 
{
	unsigned int cnt;
	unsigned int size;
	struct _s_node * prev;
	struct _s_node * next;
} MEM_NODE;

typedef struct MemHelper
{
	MEM_NODE shdr;        
	MEM_NODE stail;       
	MEM_NODE *phdr;       
	
	int f_malloc_cnt;
	int f_free_cnt;
	int max_mem_use;
	int current_mem_use;
	int f_err_cnt;
	
	int max_pic_x_size;
	int current_pic_x_size;
}MemHelper, *PMemHelper;



typedef struct AppBasic 
{
	AEEApplet       *pAeeApplet;
		
	IFileMgr        *pIFileMgr;
	INetMgr         *pINetMgr;
	ITAPI           *pITAPI;	

	PlatformInfo    platformInfo;
	
	char            pcPrivBuf[1024];

	void            *pAppGlobal;

	FileInfo        fileInfo;
	
	AEEDeviceInfo	deviceInfo;








#line 190 "d:\\brew\\inc\\JDefine.h"
}AppBasic, *PAppBasic;





extern "C"
{
#line 199 "d:\\brew\\inc\\JDefine.h"

extern void      clear_mem_cnt();
extern void*     codec_alloc_mem(long size);
extern void      codec_free_mem(void* pointer);
extern void      display_mem_leak(void);








}
#line 214 "d:\\brew\\inc\\JDefine.h"















































#line 262 "d:\\brew\\inc\\JDefine.h"
#line 5 "d:\\brew\\inc\\JGraphics.h"
#line 1 "d:\\brew\\inc\\JImage.h"



#line 1 "d:\\brew\\inc\\JDefine.h"





































































































































































































































































#line 5 "d:\\brew\\inc\\JImage.h"
#line 1 "d:\\brew\\inc\\JSystem.h"



#line 1 "d:\\brew\\inc\\JDefine.h"





































































































































































































































































#line 5 "d:\\brew\\inc\\JSystem.h"



class JSystem
{
private:
	JSystem();
	~JSystem();

public:
	static int    Create(); 
	static void   Destroy();
private:
	static int    InitBasic(AppBasic* pBasic);
	static int    InitPlatInfo(PlatformInfo* pPlatformInfo);

	static void   ReleaseBasic(AppBasic* pBasic);
	static void   ReleasePlatInfo(PlatformInfo* pPlatformInfo);

public:
	static unsigned char*         GetImei(int& iLen);
	static int                    NextInt();
	static WCHAR*                 GetWString(const char * szUtf8);
	static char*                  GetUtf8String(const WCHAR* wsz);
	static AEEDeviceInfo*         GetDeviceInfo();
public:
	static boolean                CheckDirExist(char* szDir);
	static void                   DeleteFile(char* szFile);
	static void                   CreateDir(char* szDir);
	static BOOL                   DeleteDir(char* szDir);
	static BOOL					  RenameDir(char* szFrom, char* szTo);
public:
	static int                    IndexOf(const char* szSrc, const char c);
	static int					  IndexOf(const WCHAR* wszSrc, const WCHAR c);
	static int					  IndexOf(const WCHAR* wszSrc, const int iLen, const WCHAR c);
	static int					  IndexOf(const char* szSrc, const int iLen, const char c);
	static int					  IndexOf(const WCHAR* wszSrc, const WCHAR* wsz);
	static int					  IndexOf(const char* szSrc, const char* sz);
	static boolean				  StartWith(const WCHAR* wsz, const WCHAR* wszWith);
	static boolean				  StartWith(const char* sz, const char* szWith);
	static void					  Replace(const char* szSrc, const char* szFrom, const char* szTo, char* outBuf);
	static int                    Replace(char* pc, int iLen, char cFrom, char cTo);
	static int					  ToInt(const char* szSrc, const int iLen);
	static int					  ToInt(const WCHAR* wszSrc, const int iLen);
	static uint32                 ToUint32(const char* szSrc, const int iLen);
	static uint32                 ToUint32(const WCHAR* wszSrc, const int iLen);
	static void					  ToLowCase(char* szSrc, const int iLen);
	static void					  ToLowCase(WCHAR* wszSrc, const int iLen);
	static void                   WChar2Char(WCHAR* wsz, int iLen, char* szBuf, int iBufSize);
	static int					  b64_decode(void *dest, const char *src);


	static BOOL					  GetItemFromHeader(char* szHeader, char* szItem, char** pszItem, int* nItemLen);

	static BOOL                   UIntToChar(unsigned int u, char* pcBuf, int nBufLen);

	static int					  UpdateApp(unsigned int clsID);
	static int					  GetAppleDir(char* pBuf, int nBufSize);
	static void					  StartAppman();
	static BOOL					  GetCurMemoryInfo(int& iTotal, int& iMaxUsed, int& iCurUsed, int& iLeft);
	static BOOL					  SetCurTotalMemory(int iTotal);

	static void					  JMD5(unsigned char *pSrc, unsigned int nSrcLen, unsigned char *pDes, unsigned int nDesLen);

	static void					  OpenInternet(char* szUrl);

	static char*				  GetImsi();
	static char*				  GetSMSCenter();
	static int					  GetOP();
	static BOOL					  SetAPN_CMWAP(INetMgr* pINetMgr);
	static int					  GetAPN_CMNET();
	static int					  GetAPN_CMWAP();

	static BOOL					  IsNoShowLogo();

	static void                   StartApp(unsigned int uClsID);
private:
	static int DeleteDir(IFileMgr* pIFileMgr, FileInfo* pFileInfo, char* pcFileBuf);
};


AECHAR*      STRCONV_UTF8_TO_WSTR   ( char * utf8string);

int 		 STRCONV_GB2312_TO_WSTR ( const byte * pSrc, int nLen, AECHAR * pDst, int nSize );
int  		 STRCONV_WSTR_TO_GB2312 ( const AECHAR * pSrc, int nLen, unsigned char * pDst, int nSize );
#line 91 "d:\\brew\\inc\\JSystem.h"


#line 6 "d:\\brew\\inc\\JImage.h"

enum{
    TIMAGE_TYPE_RESOURCE   =    0, 
    TIMAGE_TYPE_BYTES      =    1,    
    TIMAGE_TYPE_DYNAMIC    =    2  
};

class JImage;

typedef struct SkinImage 
{
    JImage* pImage;
    short   srcX;
    short   srcY;
    short   srcWi;
    short   srcHe;
}SkinImage, *PSkinImage;

class JImage
{
public:
    
    JImage();
    
    JImage(char* szFile, BOOL bMemImage = 0);
    
    JImage(char* pc, int iSize, int imgClsId);
    
    JImage(IBitmap* pIBitmap);

    
    JImage* createImage(JImage* image, int x, int y, int width, int height, int transform);

    BOOL IsOk();

    void Init(IBitmap* pImage);
    void Release();

    ~JImage();
public:
    int getWidth();
    int getHeight();

    void* getImgMem();

    
    IBitmap* getBitmap();


    IBitmap*    m_pIBitmap;
    char*       m_pMem;

    short       m_wi;
    short       m_he;
    short       m_refX;
    short       m_refY;

    BOOL        m_bOK;
};

#line 67 "d:\\brew\\inc\\JImage.h"
#line 6 "d:\\brew\\inc\\JGraphics.h"
#line 1 "d:\\brew\\inc\\JRect.h"



#line 1 "d:\\brew\\inc\\JDefine.h"





































































































































































































































































#line 5 "d:\\brew\\inc\\JRect.h"

class JRect
{
public:
	JRect();
	JRect(int iLe, int iTop, int iWi, int iHe);
	~JRect();
	BOOL IsOk();
private:
	BOOL m_bOK;
	void Init(int iLe, int iTop, int iWi, int iHe);
	void Release();	

public:
	void setRect(int iLe, int iTop, int iWi, int iHe);
	int getLeft();
	int getTop();
	int getWidth();
	int getHeight();
	int getRight();
	int getBottom();
	
	void calculateInRc(JRect* prcOut);

public:
	int m_iLeft;
	int m_iTop;
	int m_iWi;
	int m_iHe;
	int m_iRight;
	int m_iBottom;
};

#line 39 "d:\\brew\\inc\\JRect.h"
#line 7 "d:\\brew\\inc\\JGraphics.h"


enum{
    TRANS_NONE      = 0x00,             
    TRANS_MIRROR    = 0x10,             
    TRANS_ROTATE90  = 0x20,             
    TRANS_ROTATE180 = 0x40,             
    TRANS_ROTATE270 = 0x80              
};


enum{
        FIXEDFONT_ENC_GB2312 = 0,   
        FIXEDFONT_ENC_UCS2,         
};

enum{
    SXM_FONT_ENABLE_NATIVE  = 0,      
    SXM_FONT_ENABLE_FULL_FIXFONT,     
    SXM_FONT_ENABLE_MINI_FONT         
};


































typedef struct
{
    void*       pBmp;
    int	        cx;
    int         cy;
    int         nFullWidth;				
    int         nFullHeight;			

    void*       pSrcBmp;
    int         nVirtualScreen;
    int         srcVirtY;
    int         srcDeviceX;
    int         srcDeviceY;
} J_INT_DIB;

class CSXM_FixedFont;
class MatrixCharacter;

class JGraphics
{
public:
    JGraphics(IDisplay* pIDisplay);
    ~JGraphics();
    BOOL IsOk();
private:
    BOOL m_bOK;
    void Init(IDisplay* pIDisplay);
    void Release();
public:
    int         getWidth();
    int         getHeight();

    BOOL        setColor(int r, int g, int b);
    BOOL        setColor(int c);


    BOOL        fillRect(int iX, int iY, int iWi, int iHe);
    BOOL        drawRect(int iX, int iY, int iWi, int iHe);
    
    void        fillRectAlpha(int x, int  y, int  w, int  h, byte alpha);


    BOOL        setClip(int iX, int iY, int iWi, int iHe); 
    BOOL        setClip();
    

    BOOL        drawImage(JImage* pJImage, int iX, int iY, int iAchor);
    BOOL        drawImage(JImage* pJImage, int iX, int iY, int iSrcX, int iSrcY, int iSrcWi, int iSrcHe, int iAchor);
    BOOL        drawImage(SkinImage* pSkinImage, int iX, int iY, int iAchor);

    BOOL        drawImage(JImage* pJImage, int iX, int iY, int iAchor, int iTransform);
    BOOL        drawImage(JImage* pJImage, int iX, int iY, int iSrcX, int iSrcY, int iSrcWi, int iSrcHe, int iAchor, int iTransform);
    BOOL        drawRegion(JImage* src, int x_src, int y_src, int width, int height, int transform, int x_dest, int y_dest, int anchor);

    BOOL        drawImage(SkinImage* pSkinImage, int iX, int iY, int iAchor, int iTransform);
	BOOL		drawImageWithRotate(JImage* pJImage, int iX, int iY, int iAchor, int nRotateAchor); 
  
    int         stringWidth(char* pszGb);
    int         stringWidth(char* pszGb, int iLen);

    int         stringWidth(WCHAR* pwc);
    int         stringWidth(WCHAR* wsz, int iLen);




    int         getFontWidth();
    int         getFontHeight();

    BOOL        drawString(WCHAR* wsz, int iX, int iY, uint32 iAchor);
    BOOL        drawString(WCHAR* wsz, int nCount, int iX, int iY, uint32 iAchor);
    void        drawString(char *s, int x, int y, int anchor);
    
    void        drawString(char *s, int nCount, int x, int y, int anchor);

    BOOL        drawLine(int x1, int y1, int x2, int y2);
    

    int         invalidateRect(AEERect * pRect);
    BOOL        clearScreen();
    BOOL        FlushScreen();

    
    int         CheckVirtualScreen(void);
    
    int         adjustVirtualAndClip(AEERect *pRect);
    
    void        SetBackLight(BOOL bOn);


    

	int         createFixedFont(char* pFFpath);
	int         createFixedFont(char* pcFontData, int nFontDataSize); 
    int         destroyFixedFont();

    

	int         createMiniFont(char* pFontPath);
	int         createMiniFont(char* pcFontData, int nFontDataSize); 
    int         destroyMiniFont(void);

    
    int         enableFixedFont(int nEnable);
    int         setFixedFontSize(int nsize);
    int         setFixedFontSpace(int nSpace);
    int         setFixedFontEncoding(int nEncoding);


    BOOL        SetDestation(IBitmap* pIBitmap);
    IBitmap*    GetDestation();


    
    void        resize();

    JRect*      getDBRc();
    IDisplay*   getIDisplay();


    void        LockFlushScreen();
    void        UnLockFlushScreen();
    BOOL        IsLockFlushScreen();

    BOOL        setDBInfo(int iX, int iY, int iWi, int iHe);
    int         getDBWidth();
    int         getDBHeight();

    BOOL        setFont(AEEFont font);
    AEEFont       getFont(); 
    int         getFontWidth(AEEFont font);
    int         getFontHeight(AEEFont font);

    
    BOOL        setTextColor(int iR, int iG, int iB);
    BOOL        setTextColor(int c);

    void        LockClipRect(int iX, int iY, int iWi, int iHe); 
    void        UnLockClipRect(); 

    BOOL		getGraphics(JImage* pImg);
    void		releaseGraphics();
    
	void		translate(int x, int y);
	int			getTransLateX();
	int			getTransLateY();
public:
    IDisplay*   m_pIDisplay;

    JRect       m_lockRc;
    BOOL        m_bLock;
    BOOL        m_bLockFlushScreen;

    JRect       m_dbRc;
    JRect       m_clipRc;
    JRect       m_drawRc;
    AEERect   m_aeerc;                    
    RGBVAL      m_nowColor;
    RGBVAL      m_rgbTransColor;
    RGBVAL      m_fixeFontColor;            

    void *           m_fixedFontHdl;        
    J_INT_DIB		 m_dstIntDib;           
    CSXM_FixedFont  *m_pFixedFont;

    MatrixCharacter *m_pMiniFont;


    AEEFont          m_nowFont;
    AEEFont          m_fixedFontSize;       
    unsigned char    m_EnableFixedFont;     
    unsigned char    m_nFixedSpace;         
    unsigned char    m_nFixedFontEncoding;
    IBitmap*		 m_pFirstBitmapOfDisplay;

	int				m_iTranslateX;
	int				m_iTranslateY;

};
#line 242 "d:\\brew\\inc\\JGraphics.h"

#line 6 "D:\\BREW\\inc\\jport.h"
#line 1 "d:\\brew\\inc\\JFileInputStream.h"



#line 1 "d:\\brew\\inc\\JDefine.h"





































































































































































































































































#line 5 "d:\\brew\\inc\\JFileInputStream.h"
#line 1 "d:\\brew\\inc\\JSystem.h"




























































































#line 6 "d:\\brew\\inc\\JFileInputStream.h"



class JFileInputStream
{
public:
	JFileInputStream(char* szFile, int nFileCacheSize = 0);
	~JFileInputStream();
	BOOL IsOK();
private:
	void Init(char* szFile, int nFileCacheSize);
	void Release();
public:
	BOOL			IsOk();
	BOOL			Reset(char* szFile);
	BOOL			ReadCharArray(char* pcharBuf, int iLen);
	BOOL			ReadWCharArray(WCHAR* pWcharBuf, int iCharNum);
	BOOL			ReadChar(char* pchar);
	BOOL			ReadShort(short* pShort);
	BOOL			ReadShort(unsigned short* pShort);
	BOOL			ReadJavaShort(short* pShort);
	BOOL			ReadInt(int* pInt);
	BOOL			ReadInt(uint32* pInt);
	BOOL			ReadJavaInt(int* pInt);
	BOOL			ReadBOOL(BOOL* pBOOL);
	
	BOOL			Skip(int iLen);
	void			Close();
	
	uint32			GetOffset();
	BOOL			SetFileCacheSize(int32 nSize);
	BOOL            Seek(int iDirect, int iStep);

	IFile*          GetIFile();
private:
	IFile* m_pIFile;
	int m_iOffset;
	int32 m_nFileCacheSize;
};

#line 47 "d:\\brew\\inc\\JFileInputStream.h"
#line 7 "D:\\BREW\\inc\\jport.h"

typedef        char*        JString;
typedef        AECHAR*		String;
typedef        AECHAR*      PWSTR;
typedef        JGraphics*   Graphics;
typedef        JImage*      Image;

extern IShell*              gpShell;        
extern Graphics             gpDC;           



int                 BrewKey2Java(int i);

unsigned int        System_currentTimeMillis(void);

void                System_arraycopy(JByte* src, int src_position, JByte* dst, int dst_position, int length);
void                System_arraycopy(int* src, int src_position, int* dst, int dst_position, int length);


void                destroyApp(boolean flag);



Image               Image_createImage(const char *s1);
Image               Image_createImage(Graphics g, char *s1);

Image               Image_createImage(Graphics g, char *s1, int id, char *s2);

Image               Image_createImage(Graphics g, int iWi, int iHe);


Image               Image_createImage(JByte *s, int offset, int len);
Image               Image_createImage(Graphics g, JByte *s, int offset, int len);


Image               Image_createImage(Image image, int x, int y, int width, int height, int transform);


int                 Math_abs(int v);
int                 Math_max(int a, int b);
int                 nextInt(void);



class J_InputStream
{
public:
    JByte   readByte();
    int     readInt();
    int     read(JByte *c, int offset, int cnt);
    void    close();
    int     read(JByte *c, int cnt);

    int     getResourceAsStream(char* s);
    void    setMemoryAsInputStream(JByte* content, int offset, int len);

    J_InputStream();
    ~J_InputStream();

    IAStream* pStream;
};

enum
{
    UNREALIZED,
    REALIZED,
    STARTED,
};


class J_SoundPlayer
{
public:
    J_SoundPlayer();
    ~J_SoundPlayer();  
    int         CreatePlayer(char *s, int id);
    int         DestroyPlayer();
    int         setLoopCount(int count);
    int         setVolume(int volume);
    int         start();
    int         stop();
    int         getState();


    int         m_nStatus;
    int         m_nLoopcnt;
    int         m_nVolume;
    int         m_nClassId;
    char        m_szAudioFileName[64];

};

#line 101 "D:\\BREW\\inc\\jport.h"
#line 21 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\system.h"

typedef JImage Img;

}
#line 26 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\system.h"
#line 27 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\system.h"














#line 42 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\system.h"
#line 17 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\pre.h"
#line 1 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\Configure.h"










typedef struct _Configure Configure;
enum {PTM=50}; 
struct _Configure
{
    int X; 
    int Y; 
    int ShiftX;
    int ShiftY;
};

void destory_conf(); 

Configure* instance_conf();




#line 29 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\Configure.h"
#line 18 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\pre.h"
#line 1 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\ResPool.h"











extern "C"{
#line 14 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\ResPool.h"

typedef struct _Obj Obj;





typedef int(*Tcreate)(void*);




struct _Obj
{
    int ID;  
    void *obj; 
    Tcreate create;  
};




typedef struct _ResPool
{
   Obj* (*getObj)(int ID);  
   void (*delObj)(int idx); 
   void (*fix_relation)();  
   int  res_max;  
   Obj** List;    
}ResPool;





typedef int (*pinit)(ResPool*); 
ResPool* instance_ResPool(ResPool* *resp, pinit child_init);  




void destory_resp(ResPool* resp);








}
#line 66 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\ResPool.h"


#line 69 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\ResPool.h"
#line 19 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\pre.h"
#line 1 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\Page.h"










typedef struct _Page Page;
struct _Page
{
    int  (*init)(); 
    void (*onPaint)(); 
    void (*onDestory)(); 
    void (*running)(); 
};

#line 21 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\Page.h"
#line 20 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\pre.h"
#line 1 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\Tasks.h"










typedef struct _Tasks Tasks;
typedef struct _Page Page;
typedef struct _PageEntry PageEntry;





typedef Page* PageCreateFcn();




struct _PageEntry
{
        int idx;
        Page* page;
        PageCreateFcn* creatFcn;
};




struct _Tasks
{
        int page_count; 
        int current_page; 
        int next_page; 
        int operation; 
        PageEntry* (*get_page)(int idx); 
        void (*destory_tasks)(); 
        void (*destory_task)(const int idx); 
        void (*run)(void*); 
        void (*onPaint)(void*); 
};



enum {CURRENT_PAGE,NEXT_PAGE};





Tasks* get_tasks();









#line 66 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\Tasks.h"
#line 21 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\pre.h"



}
#line 26 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\pre.h"


#line 29 "f:\\home\\bonly\\my documents\\visual studio 2005\\projects\\template\\tools\\pre.h"
#line 9 ".\\Pre.cpp"

